(()=>{var a={};a.id=974,a.ids=[974],a.modules={134:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(311),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}},135:(a,b,c)=>{Promise.resolve().then(c.bind(c,7320))},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},450:(a,b,c)=>{"use strict";a.exports=c(2470).vendored.contexts.ImageConfigContext},538:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=c(7737).unstable_rethrow;("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},614:(a,b,c)=>{"use strict";c.d(b,{LoginButton:()=>d});let d=(0,c(8088).registerClientReference)(function(){throw Error("Attempted to call LoginButton() from the server but LoginButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code_all\\calculator\\my-t3-app\\src\\components\\auth\\login-button.tsx","LoginButton")},636:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Image",{enumerable:!0,get:function(){return u}});let d=c(6998),e=c(8737),f=c(742),g=e._(c(311)),h=d._(c(6590)),i=d._(c(7419)),j=c(9908),k=c(2215),l=c(450);c(9069);let m=c(5961),n=d._(c(4242)),o=c(573),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=null==a?void 0:a.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),null==c?void 0:c.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}(null==d?void 0:d.current)&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)((a,b)=>{let{src:c,srcSet:d,sizes:e,height:h,width:i,decoding:j,className:k,style:l,fetchPriority:m,placeholder:n,loading:p,unoptimized:s,fill:t,onLoadRef:u,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:x,sizesInput:y,onLoad:z,onError:A,...B}=a,C=(0,g.useCallback)(a=>{a&&(A&&(a.src=a.src),a.complete&&q(a,n,u,v,w,s,y))},[c,n,u,v,w,A,s,y]),D=(0,o.useMergedRef)(b,C);return(0,f.jsx)("img",{...B,...r(m),loading:p,width:i,height:h,decoding:j,"data-nimg":t?"fill":"1",className:k,style:l,sizes:e,srcSet:d,src:c,ref:D,onLoad:a=>{q(a.currentTarget,n,u,v,w,s,y)},onError:a=>{x(!0),"empty"!==n&&w(!0),A&&A(a)}})});function t(a){let{isAppRouter:b,imgAttributes:c}=a,d={as:"image",imageSrcSet:c.srcSet,imageSizes:c.sizes,crossOrigin:c.crossOrigin,referrerPolicy:c.referrerPolicy,...r(c.fetchPriority)};return b&&h.default.preload?(h.default.preload(c.src,d),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:c.srcSet?void 0:c.src,...d},"__nimg-"+c.src+c.srcSet+c.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{var a;let b=p||d||k.imageConfigDefault,c=[...b.deviceSizes,...b.imageSizes].sort((a,b)=>a-b),e=b.deviceSizes.sort((a,b)=>a-b),f=null==(a=b.qualities)?void 0:a.sort((a,b)=>a-b);return{...b,allSizes:c,deviceSizes:e,qualities:f}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.priority?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},766:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab=__dirname+"/",a.exports=g(226)})()},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1030:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,8746,23)),Promise.resolve().then(c.bind(c,614))},1551:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{ReadonlyURLSearchParams:function(){return k},RedirectType:function(){return e.RedirectType},forbidden:function(){return g.forbidden},notFound:function(){return f.notFound},permanentRedirect:function(){return d.permanentRedirect},redirect:function(){return d.redirect},unauthorized:function(){return h.unauthorized},unstable_isUnrecognizedActionError:function(){return l},unstable_rethrow:function(){return i.unstable_rethrow}});let d=c(4232),e=c(4359),f=c(9642),g=c(3435),h=c(3102),i=c(538);class j extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class k extends URLSearchParams{append(){throw new j}delete(){throw new j}set(){throw new j}sort(){throw new j}}function l(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},2115:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"warnOnce",{enumerable:!0,get:function(){return c}});let c=a=>{}},2215:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},2363:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6504,23)),Promise.resolve().then(c.t.bind(c,2851,23)),Promise.resolve().then(c.t.bind(c,6191,23)),Promise.resolve().then(c.t.bind(c,7186,23)),Promise.resolve().then(c.t.bind(c,6086,23)),Promise.resolve().then(c.t.bind(c,2186,23)),Promise.resolve().then(c.t.bind(c,2130,23)),Promise.resolve().then(c.t.bind(c,6407,23)),Promise.resolve().then(c.t.bind(c,546,23))},2682:(a,b,c)=>{"use strict";let d=c(3033),e=c(9294),f=c(4980),g=c(8005),h=c(5704),i=c(6186),j=c(4396);c(262);new WeakMap;(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})})},2892:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){Object.keys(a).forEach(function(c){"default"===c||Object.prototype.hasOwnProperty.call(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:function(){return a[c]}})})}(c(3938),b)},2930:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>d});let d=(0,c(8088).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code_all\\calculator\\my-t3-app\\src\\app\\providers.tsx","AuthProvider")},2935:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"connection",{enumerable:!0,get:function(){return j}});let d=c(9294),e=c(3033),f=c(4980),g=c(5704),h=c(8905),i=c(9974);function j(){let a=d.workAsyncStorage.getStore(),b=e.workUnitAsyncStorage.getStore();if(a){if(b&&"after"===b.phase&&!(0,i.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${a.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(a.forceStatic)return Promise.resolve(void 0);if(a.dynamicShouldError)throw Object.defineProperty(new g.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(b)switch(b.type){case"cache":{let b=Object.defineProperty(Error(`Route ${a.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E752",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"private-cache":{let b=Object.defineProperty(Error(`Route ${a.route} used "connection" inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E753",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,h.makeHangingPromise)(b.renderSignal,a.route,"`connection()`");case"prerender-ppr":return(0,f.postponeWithTracking)(a.route,"connection",b.dynamicTracking);case"prerender-legacy":return(0,f.throwToInterruptStaticGeneration)("connection",a,b);case"request":return(0,f.trackDynamicDataInDynamicRender)(b),Promise.resolve(void 0)}}(0,e.throwForMissingRequestStore)("connection")}},2979:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,2326,23)),Promise.resolve().then(c.t.bind(c,2649,23)),Promise.resolve().then(c.t.bind(c,8689,23)),Promise.resolve().then(c.t.bind(c,1915,23)),Promise.resolve().then(c.t.bind(c,4840,23)),Promise.resolve().then(c.t.bind(c,6396,23)),Promise.resolve().then(c.t.bind(c,6156,23)),Promise.resolve().then(c.t.bind(c,6333,23)),Promise.resolve().then(c.bind(c,3948))},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3102:(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unauthorized",{enumerable:!0,get:function(){return d}}),c(4883).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3112:(a,b,c)=>{"use strict";c.d(b,{LoginButton:()=>h});var d=c(742),e=c(8392),f=c(1405),g=c.n(f);function h(){let{data:a}=(0,e.wV)();return(console.log("Session data:",a),a)?(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("span",{className:"text-sm text-white",children:["欢迎, ",a.user?.name||a.user?.email]}),a.user?.role==="admin"&&(0,d.jsx)(g(),{href:"/admin",className:"rounded-md bg-yellow-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-yellow-500",children:"管理员控制台"}),(0,d.jsx)("button",{onClick:()=>(0,e.CI)(),className:"rounded-md bg-red-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500",children:"退出登录"})]}):(0,d.jsx)(g(),{href:"/auth/signin?callbackUrl=/calculator/u-contract",className:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",children:"登录"})}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3435:(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"forbidden",{enumerable:!0,get:function(){return d}}),c(4883).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3677:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},3724:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{MutableRequestCookiesAdapter:function(){return l},ReadonlyRequestCookiesError:function(){return g},RequestCookiesAdapter:function(){return h},appendMutableCookies:function(){return k},areCookiesMutableInCurrentPhase:function(){return n},createCookiesWithMutableAccessCheck:function(){return m},getModifiedCookieValues:function(){return j},responseCookiesToRequestCookies:function(){return p}});let d=c(9677),e=c(262),f=c(9294);class g extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new g}}class h{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return g.callable;default:return e.ReflectAdapter.get(a,b,c)}}})}}let i=Symbol.for("next.mutated.cookies");function j(a){let b=a[i];return b&&Array.isArray(b)&&0!==b.length?b:[]}function k(a,b){let c=j(b);if(0===c.length)return!1;let e=new d.ResponseCookies(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class l{static wrap(a,b){let c=new d.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let g=[],h=new Set,j=()=>{let a=f.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=!0),g=c.getAll().filter(a=>h.has(a.name)),b){let a=[];for(let b of g){let c=new d.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case i:return g;case"delete":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return e.ReflectAdapter.get(a,b,c)}}});return k}}function m(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return o(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return o(a,"cookies().set"),c.set(...d),b};default:return e.ReflectAdapter.get(c,d,f)}}});return b}function n(a){return"action"===a.phase}function o(a,b){if(!n(a))throw new g}function p(a){let b=new d.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},3873:a=>{"use strict";a.exports=require("path")},3938:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"after",{enumerable:!0,get:function(){return e}});let d=c(9294);function e(a){let b=d.workAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:c}=b;return c.after(a)}},4230:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(2115);let d=c(3677),e=c(9857),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}},4232:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getRedirectError:function(){return g},getRedirectStatusCodeFromError:function(){return l},getRedirectTypeFromError:function(){return k},getURLFromRedirectError:function(){return j},permanentRedirect:function(){return i},redirect:function(){return h}});let d=c(2693),e=c(4359),f=c(9121).actionAsyncStorage;function g(a,b,c){void 0===c&&(c=d.RedirectStatusCode.TemporaryRedirect);let f=Object.defineProperty(Error(e.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=e.REDIRECT_ERROR_CODE+";"+b+";"+a+";"+c+";",f}function h(a,b){var c;throw null!=b||(b=(null==f||null==(c=f.getStore())?void 0:c.isAction)?e.RedirectType.push:e.RedirectType.replace),g(a,b,d.RedirectStatusCode.TemporaryRedirect)}function i(a,b){throw void 0===b&&(b=e.RedirectType.replace),g(a,b,d.RedirectStatusCode.PermanentRedirect)}function j(a){return(0,e.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function k(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function l(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},4242:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},4486:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getRootParam:function(){return n},unstable_rootParams:function(){return m}});let d=c(4396),e=c(4980),f=c(9294),g=c(3033),h=c(8905),i=c(6996),j=c(9121),k=c(6956),l=new WeakMap;async function m(){(0,k.warnOnce)("`unstable_rootParams()` is deprecated and will be removed in an upcoming major release. Import specific root params from `next/root-params` instead.");let a=f.workAsyncStorage.getStore();if(!a)throw Object.defineProperty(new d.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let b=g.workUnitAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error(`Route ${a.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(b.type){case"cache":case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return function(a,b,c){switch(c.type){case"prerender-client":{let a="`unstable_rootParams`";throw Object.defineProperty(new d.InvariantError(`${a} must not be used within a client component. Next.js should be preventing ${a} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0})}case"prerender":{let d=c.fallbackRouteParams;if(d){for(let e in a)if(d.has(e)){let d=l.get(a);if(d)return d;let e=(0,h.makeHangingPromise)(c.renderSignal,b.route,"`unstable_rootParams`");return l.set(a,e),e}}break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d){for(let f in a)if(d.has(f))return function(a,b,c,d){let f=l.get(a);if(f)return f;let g={...a},h=Promise.resolve(g);return l.set(a,h),Object.keys(a).forEach(f=>{i.wellKnownProperties.has(f)||(b.has(f)?Object.defineProperty(g,f,{get(){let a=(0,i.describeStringPropertyAccess)("unstable_rootParams",f);"prerender-ppr"===d.type?(0,e.postponeWithTracking)(c.route,a,d.dynamicTracking):(0,e.throwToInterruptStaticGeneration)(a,c,d)},enumerable:!0}):h[f]=a[f])}),h}(a,d,b,c)}}}return Promise.resolve(a)}(b.rootParams,a,b);case"private-cache":case"prerender-runtime":case"request":return Promise.resolve(b.rootParams);default:return b}}function n(a){let b=`\`import('next/root-params').${a}()\``,c=f.workAsyncStorage.getStore();if(!c)throw Object.defineProperty(new d.InvariantError(`Missing workStore in ${b}`),"__NEXT_ERROR_CODE",{value:"E764",enumerable:!1,configurable:!0});let e=g.workUnitAsyncStorage.getStore();if(!e)throw Object.defineProperty(Error(`Route ${c.route} used ${b} outside of a Server Component. This is not allowed.`),"__NEXT_ERROR_CODE",{value:"E774",enumerable:!1,configurable:!0});let i=j.actionAsyncStorage.getStore();if(i){if(i.isAppRoute)throw Object.defineProperty(Error(`Route ${c.route} used ${b} inside a Route Handler. Support for this API in Route Handlers is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E765",enumerable:!1,configurable:!0});if(i.isAction&&"action"===e.phase)throw Object.defineProperty(Error(`${b} was used inside a Server Action. This is not supported. Functions from 'next/root-params' can only be called in the context of a route.`),"__NEXT_ERROR_CODE",{value:"E766",enumerable:!1,configurable:!0})}switch(e.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${c.route} used ${b} inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E760",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":var k=a,l=c,m=e,n=b;if("prerender-client"===m.type)throw Object.defineProperty(new d.InvariantError(`${n} must not be used within a client component. Next.js should be preventing ${n} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});let p=m.rootParams;switch(m.type){case"prerender":if(m.fallbackRouteParams&&m.fallbackRouteParams.has(k))return(0,h.makeHangingPromise)(m.renderSignal,l.route,n);break;case"prerender-ppr":if(m.fallbackRouteParams&&m.fallbackRouteParams.has(k))return o(k,l,m,n)}return Promise.resolve(p[k])}return Promise.resolve(e.rootParams[a])}async function o(a,b,c,d){let f=(0,i.describeStringPropertyAccess)(d,a);switch(c.type){case"prerender-ppr":return(0,e.postponeWithTracking)(b.route,f,c.dynamicTracking);case"prerender-legacy":return(0,e.throwToInterruptStaticGeneration)(f,b,c)}}},4819:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},5961:(a,b,c)=>{"use strict";a.exports=c(2470).vendored.contexts.RouterContext},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6600:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(8836);c(7316);var e=c(7690),f=c.n(e),g=c(2930);let h={title:"Carlos/Ray 合约计算器",description:"专业的加密货币合约计算工具",icons:[{rel:"icon",url:"/favicon.ico"}]};function i({children:a}){return(0,d.jsx)("html",{lang:"zh",className:`${f().variable}`,"data-theme":"light",children:(0,d.jsx)("body",{className:"min-h-screen bg-base-100 font-sans antialiased",children:(0,d.jsx)(g.AuthProvider,{children:a})})})}},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6765:(a,b)=>{"use strict";b.q=function(a,b){if("string"!=typeof a)throw TypeError("argument str must be a string");var c={},d=a.length;if(d<2)return c;var e=b&&b.decode||j,f=0,g=0,k=0;do{if(-1===(g=a.indexOf("=",f)))break;if(-1===(k=a.indexOf(";",f)))k=d;else if(g>k){f=a.lastIndexOf(";",g-1)+1;continue}var l=h(a,f,g),m=i(a,g,l),n=a.slice(l,m);if(!c.hasOwnProperty(n)){var o=h(a,g+1,k),p=i(a,k,o);34===a.charCodeAt(o)&&34===a.charCodeAt(p-1)&&(o++,p--);var q=a.slice(o,p);c[n]=function(a,b){try{return b(a)}catch(b){return a}}(q,e)}f=k+1}while(f<d);return c},b.l=function(a,b,h){var i=h&&h.encode||encodeURIComponent;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!d.test(a))throw TypeError("argument name is invalid");var j=i(b);if(!e.test(j))throw TypeError("argument val is invalid");var k=a+"="+j;if(!h)return k;if(null!=h.maxAge){var l=Math.floor(h.maxAge);if(!isFinite(l))throw TypeError("option maxAge is invalid");k+="; Max-Age="+l}if(h.domain){if(!f.test(h.domain))throw TypeError("option domain is invalid");k+="; Domain="+h.domain}if(h.path){if(!g.test(h.path))throw TypeError("option path is invalid");k+="; Path="+h.path}if(h.expires){var m,n=h.expires;if(m=n,"[object Date]"!==c.call(m)||isNaN(n.valueOf()))throw TypeError("option expires is invalid");k+="; Expires="+n.toUTCString()}if(h.httpOnly&&(k+="; HttpOnly"),h.secure&&(k+="; Secure"),h.partitioned&&(k+="; Partitioned"),h.priority)switch("string"==typeof h.priority?h.priority.toLowerCase():h.priority){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(h.sameSite)switch("string"==typeof h.sameSite?h.sameSite.toLowerCase():h.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return k};var c=Object.prototype.toString,d=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,f=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,g=/^[\u0020-\u003A\u003D-\u007E]*$/;function h(a,b,c){do{var d=a.charCodeAt(b);if(32!==d&&9!==d)return b}while(++b<c);return c}function i(a,b,c){for(;b>c;){var d=a.charCodeAt(--b);if(32!==d&&9!==d)return b+1}return c}function j(a){return -1!==a.indexOf("%")?decodeURIComponent(a):a}},6784:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{ImageResponse:function(){return d.ImageResponse},NextRequest:function(){return e.NextRequest},NextResponse:function(){return f.NextResponse},URLPattern:function(){return h.URLPattern},after:function(){return i.after},connection:function(){return j.connection},unstable_rootParams:function(){return k.unstable_rootParams},userAgent:function(){return g.userAgent},userAgentFromString:function(){return g.userAgentFromString}});let d=c(9791),e=c(9591),f=c(7011),g=c(7207),h=c(7064),i=c(2892),j=c(2935),k=c(4486)},6949:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(8356),e=c(6971),f=c(9301),g=c(3138),h=c(2348),i=c(1590),j=c(9325),k=c(6686),l=c(1652),m=c(1718),n=c(2104),o=c(4207),p=c(7883),q=c(6664),r=c(261),s=c(3119),t=c(7060),u=c(6713),v=c(1862),w=c(3483),x=c(2335),y=c(4280),z=c(6304),A=c(3816),B=c(6439),C=c(6504),D=c.n(C),E=c(7468),F=c(2693),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7807)),"D:\\code_all\\calculator\\my-t3-app\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,6600)),"D:\\code_all\\calculator\\my-t3-app\\src\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6504,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,6894,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,1687,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2058,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["D:\\code_all\\calculator\\my-t3-app\\src\\app\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(3873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},7011:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"NextResponse",{enumerable:!0,get:function(){return l}});let d=c(9677),e=c(9651),f=c(7113),g=c(262),h=c(9677),i=Symbol("internal response"),j=new Set([301,302,303,307,308]);function k(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class l extends Response{constructor(a,b={}){super(a,b);let c=this.headers,j=new Proxy(new h.ResponseCookies(c),{get(a,e,f){switch(e){case"delete":case"set":return(...f)=>{let g=Reflect.apply(a[e],a,f),i=new Headers(c);return g instanceof h.ResponseCookies&&c.set("x-middleware-set-cookie",g.getAll().map(a=>(0,d.stringifyCookie)(a)).join(",")),k(b,i),g};default:return g.ReflectAdapter.get(a,e,f)}}});this[i]={cookies:j,url:b.url?new e.NextURL(b.url,{headers:(0,f.toNodeOutgoingHttpHeaders)(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[i].cookies}static json(a,b){let c=Response.json(a,b);return new l(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!j.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",(0,f.validateURL)(a)),new l(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",(0,f.validateURL)(a)),k(b,c),new l(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),k(a,b),new l(null,{...a,headers:b})}}},7064:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"URLPattern",{enumerable:!0,get:function(){return c}});let c="undefined"==typeof URLPattern?void 0:URLPattern},7118:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,636,23)),Promise.resolve().then(c.bind(c,3112))},7184:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},7207:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{isBot:function(){return e},userAgent:function(){return g},userAgentFromString:function(){return f}});let d=function(a){return a&&a.__esModule?a:{default:a}}(c(766));function e(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}function f(a){return{...(0,d.default)(a),isBot:void 0!==a&&e(a)}}function g({headers:a}){return f(a.get("user-agent")||void 0)}},7316:()=>{},7320:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>f});var d=c(742),e=c(8392);function f({children:a}){return(0,d.jsx)(e.CP,{children:a})}},7363:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},7419:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(6998),e=c(8737),f=c(742),g=e._(c(311)),h=d._(c(134)),i=c(7656),j=c(7664),k=c(7363);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(9069);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7656:(a,b,c)=>{"use strict";a.exports=c(2470).vendored.contexts.AmpContext},7664:(a,b,c)=>{"use strict";a.exports=c(2470).vendored.contexts.HeadManagerContext},7737:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=c(8905),e=c(2634),f=c(5171),g=c(4743),h=c(4980),i=c(6186);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7807:(a,b,c)=>{"use strict";let d,e,f,g,h,i;c.r(b),c.d(b,{default:()=>he});var j,k,l,m,n=c(8836),o=c(614),p=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},q=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function r(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class s{constructor(a,b,c){if(cj.add(this),ck.set(this,{}),cl.set(this,void 0),cm.set(this,void 0),p(this,cm,c,"f"),p(this,cl,a,"f"),!b)return;let{name:d}=a;for(let[a,c]of Object.entries(b))a.startsWith(d)&&c&&(q(this,ck,"f")[a]=c)}get value(){return Object.keys(q(this,ck,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>q(this,ck,"f")[a]).join("")}chunk(a,b){let c=q(this,cj,"m",co).call(this);for(let d of q(this,cj,"m",cn).call(this,{name:q(this,cl,"f").name,value:a,options:{...q(this,cl,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(q(this,cj,"m",co).call(this))}}ck=new WeakMap,cl=new WeakMap,cm=new WeakMap,cj=new WeakSet,cn=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return q(this,ck,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(3936*d,3936);c.push({...a,name:b,value:e}),q(this,ck,"f")[b]=e}return q(this,cm,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},co=function(){let a={};for(let b in q(this,ck,"f"))delete q(this,ck,"f")?.[b],a[b]={name:b,value:"",options:{...q(this,cl,"f").options,maxAge:0}};return a};class t extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class u extends t{}u.kind="signIn";class v extends t{}v.type="AdapterError";class w extends t{}w.type="AccessDenied";class x extends t{}x.type="CallbackRouteError";class y extends t{}y.type="ErrorPageLoop";class z extends t{}z.type="EventError";class A extends t{}A.type="InvalidCallbackUrl";class B extends u{constructor(){super(...arguments),this.code="credentials"}}B.type="CredentialsSignin";class C extends t{}C.type="InvalidEndpoints";class D extends t{}D.type="InvalidCheck";class E extends t{}E.type="JWTSessionError";class F extends t{}F.type="MissingAdapter";class G extends t{}G.type="MissingAdapterMethods";class H extends t{}H.type="MissingAuthorize";class I extends t{}I.type="MissingSecret";class J extends u{}J.type="OAuthAccountNotLinked";class K extends u{}K.type="OAuthCallbackError";class L extends t{}L.type="OAuthProfileParseError";class M extends t{}M.type="SessionTokenError";class N extends u{}N.type="OAuthSignInError";class O extends u{}O.type="EmailSignInError";class P extends t{}P.type="SignOutError";class Q extends t{}Q.type="UnknownAction";class R extends t{}R.type="UnsupportedStrategy";class S extends t{}S.type="InvalidProvider";class T extends t{}T.type="UntrustedHost";class U extends t{}U.type="Verification";class V extends u{}V.type="MissingCSRF";let W=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class X extends t{}X.type="DuplicateConditionalUI";class Y extends t{}Y.type="MissingWebAuthnAutocomplete";class Z extends t{}Z.type="WebAuthnVerificationError";class $ extends u{}$.type="AccountNotLinked";class _ extends t{}_.type="ExperimentalFeatureNotEnabled";let aa=!1;function ab(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let ac=!1,ad=!1,ae=!1,af=["createVerificationToken","useVerificationToken","getUserByEmail"],ag=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ah=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],ai=require("crypto");"function"!=typeof ai.hkdf||process.versions.electron||(d=async(...a)=>new Promise((b,c)=>{ai.hkdf(...a,(a,d)=>{a?c(a):b(new Uint8Array(d))})}));let aj=async(a,b,c,e,f)=>(d||((a,b,c,d,e)=>{let f=parseInt(a.substr(3),10)>>3||20,g=(0,ai.createHmac)(a,c.byteLength?c:new Uint8Array(f)).update(b).digest(),h=Math.ceil(e/f),i=new Uint8Array(f*h+d.byteLength+1),j=0,k=0;for(let b=1;b<=h;b++)i.set(d,k),i[k+d.byteLength]=b,i.set((0,ai.createHmac)(a,g).update(i.subarray(j,k+d.byteLength+1)).digest(),k),j=k,k+=f;return i.slice(0,e)}))(a,b,c,e,f);function ak(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function al(a,b,c,d,e){return aj(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=ak(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),ak(c,"salt"),function(a){let b=ak(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}let am=require("node:crypto"),an=(a,b)=>(0,am.createHash)(a).update(b).digest(),ao=require("node:buffer"),ap=new TextEncoder,aq=new TextDecoder;function ar(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function as(a,b){return ar(ap.encode(a),new Uint8Array([0]),b)}function at(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function au(a){let b=new Uint8Array(4);return at(b,a),b}function av(a){return ar(au(a.length),a)}async function aw(a,b,c){let d=Math.ceil((b>>3)/32),e=new Uint8Array(32*d);for(let b=0;b<d;b++){let d=new Uint8Array(4+a.length+c.length);d.set(au(b+1)),d.set(a,4),d.set(c,4+a.length),e.set(await an("sha256",d),32*b)}return e.slice(0,b>>3)}let ax=a=>ao.Buffer.from(a).toString("base64url"),ay=a=>new Uint8Array(ao.Buffer.from(function(a){let b=a;return b instanceof Uint8Array&&(b=aq.decode(b)),b}(a),"base64url"));class az extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class aA extends az{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aB extends az{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aC extends az{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class aD extends az{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class aE extends az{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class aF extends az{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class aG extends az{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class aH extends az{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class aI extends az{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}function aJ(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}let aK=(a,b)=>{if("string"!=typeof a||!a)throw new aH(`${b} missing or invalid`)};async function aL(a,b){let c;if(!aJ(a))throw TypeError("JWK must be an object");if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(a.kty){case"EC":aK(a.crv,'"crv" (Curve) Parameter'),aK(a.x,'"x" (X Coordinate) Parameter'),aK(a.y,'"y" (Y Coordinate) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x,y:a.y};break;case"OKP":aK(a.crv,'"crv" (Subtype of Key Pair) Parameter'),aK(a.x,'"x" (Public Key) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x};break;case"RSA":aK(a.e,'"e" (Exponent) Parameter'),aK(a.n,'"n" (Modulus) Parameter'),c={e:a.e,kty:a.kty,n:a.n};break;case"oct":aK(a.k,'"k" (Key Value) Parameter'),c={k:a.k,kty:a.kty};break;default:throw new aD('"kty" (Key Type) Parameter missing or unsupported')}let d=ap.encode(JSON.stringify(c));return ax(await an(b,d))}let aM=Symbol();function aN(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new aD(`Unsupported JWE Algorithm: ${a}`)}}let aO=(a,b)=>{if(b.length<<3!==aN(a))throw new aF("Invalid Initialization Vector length")},aP=require("node:util"),aQ=a=>aP.types.isKeyObject(a),aR=(a,b)=>{let c;switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":c=parseInt(a.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":c=parseInt(a.slice(1,4),10);break;default:throw new aD(`Content Encryption Algorithm ${a} is not supported either by JOSE or your javascript runtime`)}if(b instanceof Uint8Array){let a=b.byteLength<<3;if(a!==c)throw new aF(`Invalid Content Encryption Key length. Expected ${c} bits, got ${a} bits`);return}if(aQ(b)&&"secret"===b.type){let a=b.symmetricKeySize<<3;if(a!==c)throw new aF(`Invalid Content Encryption Key length. Expected ${c} bits, got ${a} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function aS(a,b,c,d,e,f){let g=ar(a,b,c,function(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return at(c,b,0),at(c,a%0x100000000,4),c}(a.length<<3)),h=(0,am.createHmac)(`sha${d}`,e);return h.update(g),h.digest().slice(0,f>>3)}let aT=am.webcrypto,aU=a=>aP.types.isCryptoKey(a);function aV(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function aW(a,b){return a.name===b}function aX(a,b,...c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!aW(a.algorithm,"AES-GCM"))throw aV("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aV(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!aW(a.algorithm,"AES-KW"))throw aV("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aV(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw aV("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!aW(a.algorithm,"PBKDF2"))throw aV("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!aW(a.algorithm,"RSA-OAEP"))throw aV("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw aV(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c.length&&!c.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(c.length>2){let b=c.pop();a+=`one of ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of ${c[0]} or ${c[1]}.`:a+=`${c[0]}.`;throw TypeError(a)}}function aY(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let aZ=(a,...b)=>aY("Key must be ",a,...b);function a$(a,b,...c){return aY(`Key for the ${a} algorithm must be `,b,...c)}let a_=a=>(e||=new Set((0,am.getCiphers)())).has(a),a0=a=>aQ(a)||aU(a),a1=["KeyObject"];(globalThis.CryptoKey||aT?.CryptoKey)&&a1.push("CryptoKey");let a2=(a,b,c,d,e)=>{let f;if(aU(c))aX(c,a,"encrypt"),f=am.KeyObject.from(c);else if(c instanceof Uint8Array||aQ(c))f=c;else throw TypeError(aZ(c,...a1,"Uint8Array"));if(aR(a,f),d)aO(a,d);else d=(0,am.randomFillSync)(new Uint8Array(aN(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(a,b,c,d,e){let f=parseInt(a.slice(1,4),10);aQ(c)&&(c=c.export());let g=c.subarray(f>>3),h=c.subarray(0,f>>3),i=`aes-${f}-cbc`;if(!a_(i))throw new aD(`alg ${a} is not supported by your javascript runtime`);let j=(0,am.createCipheriv)(i,g,d),k=ar(j.update(b),j.final()),l=aS(e,d,k,parseInt(a.slice(-3),10),h,f);return{ciphertext:k,tag:l,iv:d}}(a,b,f,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return function(a,b,c,d,e){let f=parseInt(a.slice(1,4),10),g=`aes-${f}-gcm`;if(!a_(g))throw new aD(`alg ${a} is not supported by your javascript runtime`);let h=(0,am.createCipheriv)(g,c,d,{authTagLength:16});e.byteLength&&h.setAAD(e,{plaintextLength:b.length});let i=h.update(b);return h.final(),{ciphertext:i,tag:h.getAuthTag(),iv:d}}(a,b,f,d,e);default:throw new aD("Unsupported JWE Content Encryption Algorithm")}};function a3(a,b){if(a.symmetricKeySize<<3!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function a4(a,b,c){if(aQ(a))return a;if(a instanceof Uint8Array)return(0,am.createSecretKey)(a);if(aU(a))return aX(a,b,c),am.KeyObject.from(a);throw TypeError(aZ(a,...a1,"Uint8Array"))}let a5=(a,b,c)=>{let d=parseInt(a.slice(1,4),10),e=`aes${d}-wrap`;if(!a_(e))throw new aD(`alg ${a} is not supported either by JOSE or your javascript runtime`);let f=a4(b,a,"wrapKey");a3(f,a);let g=(0,am.createCipheriv)(e,f,ao.Buffer.alloc(8,166));return ar(g.update(c),g.final())},a6=(a,b,c)=>{let d=parseInt(a.slice(1,4),10),e=`aes${d}-wrap`;if(!a_(e))throw new aD(`alg ${a} is not supported either by JOSE or your javascript runtime`);let f=a4(b,a,"unwrapKey");a3(f,a);let g=(0,am.createDecipheriv)(e,f,ao.Buffer.alloc(8,166));return ar(g.update(c),g.final())};function a7(a){return aJ(a)&&"string"==typeof a.kty}new WeakMap;let a8=(a,b)=>{let c;if(aU(a))c=am.KeyObject.from(a);else if(aQ(a))c=a;else if(a7(a))return a.crv;else throw TypeError(aZ(a,...a1));if("secret"===c.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(c.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${c.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${c.asymmetricKeyType.slice(1)}`;case"ec":{let a=c.asymmetricKeyDetails.namedCurve;if(b)return a;switch(a){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new aD("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}},a9=(0,aP.promisify)(am.generateKeyPair);async function ba(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){let g,h;if(aU(a))aX(a,"ECDH"),g=am.KeyObject.from(a);else if(aQ(a))g=a;else throw TypeError(aZ(a,...a1));if(aU(b))aX(b,"ECDH","deriveBits"),h=am.KeyObject.from(b);else if(aQ(b))h=b;else throw TypeError(aZ(b,...a1));let i=ar(av(ap.encode(c)),av(e),av(f),au(d));return aw((0,am.diffieHellman)({privateKey:h,publicKey:g}),d,i)}async function bb(a){let b;if(aU(a))b=am.KeyObject.from(a);else if(aQ(a))b=a;else throw TypeError(aZ(a,...a1));switch(b.asymmetricKeyType){case"x25519":return a9("x25519");case"x448":return a9("x448");case"ec":return a9("ec",{namedCurve:a8(b)});default:throw new aD("Invalid or unsupported EPK")}}let bc=a=>["P-256","P-384","P-521","X25519","X448"].includes(a8(a));function bd(a){if(!(a instanceof Uint8Array)||a.length<8)throw new aF("PBES2 Salt Input must be 8 or more octets")}let be=(0,aP.promisify)(am.pbkdf2);function bf(a,b){if(aQ(a))return a.export();if(a instanceof Uint8Array)return a;if(aU(a))return aX(a,b,"deriveBits","deriveKey"),am.KeyObject.from(a).export();throw TypeError(aZ(a,...a1,"Uint8Array"))}let bg=async(a,b,c,d=2048,e=(0,am.randomFillSync)(new Uint8Array(16)))=>{bd(e);let f=as(a,e),g=parseInt(a.slice(13,16),10)>>3,h=bf(b,a),i=await be(h,f,d,g,`sha${a.slice(8,11)}`);return{encryptedKey:await a5(a.slice(-6),i,c),p2c:d,p2s:ax(e)}},bh=async(a,b,c,d,e)=>{bd(e);let f=as(a,e),g=parseInt(a.slice(13,16),10)>>3,h=bf(b,a),i=await be(h,f,d,g,`sha${a.slice(8,11)}`);return a6(a.slice(-6),i,c)},bi=(a,b)=>{if("rsa"!==a.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");((a,b)=>{let c;try{c=a instanceof am.KeyObject?a.asymmetricKeyDetails?.modulusLength:Buffer.from(a.n,"base64url").byteLength<<3}catch{}if("number"!=typeof c||c<2048)throw TypeError(`${b} requires key modulusLength to be 2048 bits or larger`)})(a,b)},bj=(0,aP.deprecate)(()=>am.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),bk=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return am.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return bj();default:return}},bl=a=>{switch(a){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function bm(a,b,...c){if(aQ(a))return a;if(aU(a))return aX(a,b,...c),am.KeyObject.from(a);throw TypeError(aZ(a,...a1))}let bn={};function bo(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new aD(`Unsupported JWE Algorithm: ${a}`)}}let bp=a=>(0,am.randomFillSync)(new Uint8Array(bo(a)>>3));async function bq(a){let b;if(aU(a)){if(!a.extractable)throw TypeError("CryptoKey is not extractable");b=am.KeyObject.from(a)}else if(aQ(a))b=a;else if(a instanceof Uint8Array)return{kty:"oct",k:ax(a)};else throw TypeError(aZ(a,...a1,"Uint8Array"));if("secret"!==b.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(b.asymmetricKeyType))throw new aD("Unsupported key asymmetricKeyType");return b.export({format:"jwk"})}let br=a=>a?.[Symbol.toStringTag],bs=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0};function bt(a,b,c,d){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?((a,b,c,d)=>{if(!(b instanceof Uint8Array)){if(d&&a7(b)){var e;if(a7(e=b)&&"oct"===e.kty&&"string"==typeof e.k&&bs(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!a0(b))throw TypeError(a$(a,b,...a1,"Uint8Array",d?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${br(b)} instances for symmetric algorithms must be of type "secret"`)}})(b,c,d,a):((a,b,c,d)=>{var e,f;if(d&&a7(b))switch(c){case"sign":if("oct"!==(e=b).kty&&"string"==typeof e.d&&bs(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==(f=b).kty&&void 0===f.d&&bs(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!a0(b))throw TypeError(a$(a,b,...a1,d?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${br(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${br(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${br(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${br(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${br(b)} instances for asymmetric algorithm encryption must be of type "public"`)})(b,c,d,a)}let bu=bt.bind(void 0,!1);bt.bind(void 0,!0);let bv=am.timingSafeEqual,bw=(a,b,c,d,e,f)=>{let g;if(aU(b))aX(b,a,"decrypt"),g=am.KeyObject.from(b);else if(b instanceof Uint8Array||aQ(b))g=b;else throw TypeError(aZ(b,...a1,"Uint8Array"));if(!d)throw new aF("JWE Initialization Vector missing");if(!e)throw new aF("JWE Authentication Tag missing");switch(aR(a,g),aO(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(a,b,c,d,e,f){let g,h,i=parseInt(a.slice(1,4),10);aQ(b)&&(b=b.export());let j=b.subarray(i>>3),k=b.subarray(0,i>>3),l=parseInt(a.slice(-3),10),m=`aes-${i}-cbc`;if(!a_(m))throw new aD(`alg ${a} is not supported by your javascript runtime`);let n=aS(f,d,c,l,k,i);try{g=bv(e,n)}catch{}if(!g)throw new aE;try{let a=(0,am.createDecipheriv)(m,j,d);h=ar(a.update(c),a.final())}catch{}if(!h)throw new aE;return h}(a,g,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return function(a,b,c,d,e,f){let g=parseInt(a.slice(1,4),10),h=`aes-${g}-gcm`;if(!a_(h))throw new aD(`alg ${a} is not supported by your javascript runtime`);try{let a=(0,am.createDecipheriv)(h,b,d,{authTagLength:16});a.setAuthTag(e),f.byteLength&&a.setAAD(f,{plaintextLength:c.length});let g=a.update(c);return a.final(),g}catch{throw new aE}}(a,g,c,d,e,f);default:throw new aD("Unsupported JWE Content Encryption Algorithm")}};async function bx(a,b,c,d){let e=a.slice(0,7),f=await a2(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:ax(f.iv),tag:ax(f.tag)}}async function by(a,b,c,d,e){return bw(a.slice(0,7),b,c,d,e,new Uint8Array(0))}async function bz(a,b,c,d,e={}){let f,g,h;switch(bu(a,c,"encrypt"),c=await bn.normalizePublicKey?.(c,a)||c,a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!bc(c))throw new aD("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:i,apv:j}=e,{epk:k}=e;k||=(await bb(c)).privateKey;let{x:l,y:m,crv:n,kty:o}=await bq(k),p=await ba(c,k,"ECDH-ES"===a?b:a,"ECDH-ES"===a?bo(b):parseInt(a.slice(-5,-2),10),i,j);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),i&&(g.apu=ax(i)),j&&(g.apv=ax(j)),"ECDH-ES"===a){h=p;break}h=d||bp(b);let q=a.slice(-6);f=await a5(q,p,h);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||bp(b),f=await ((a,b,c)=>{let d=bk(a),e=bl(a),f=bm(b,a,"wrapKey","encrypt");return bi(f,a),(0,am.publicEncrypt)({key:f,oaepHash:e,padding:d},c)})(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||bp(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await bg(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||bp(b),f=await a5(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||bp(b);let{iv:i}=e;({encryptedKey:f,...g}=await bx(a,c,h,i));break}default:throw new aD('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}let bA=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0},bB=function(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new aD(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)};class bC{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=a}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setSharedUnprotectedHeader(a){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}setAdditionalAuthenticatedData(a){return this._aad=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new aF("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!bA(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new aF("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(bB(aF,new Map,b?.crit,this._protectedHeader,h),void 0!==h.zip)throw new aD('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new aF('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new aF('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);{let e;({cek:d,encryptedKey:c,parameters:e}=await bz(i,j,a,this._cek,this._keyManagementParameters)),e&&(b&&aM in b?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...e}:this.setUnprotectedHeader(e):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...e}:this.setProtectedHeader(e))}f=this._protectedHeader?ap.encode(ax(JSON.stringify(this._protectedHeader))):ap.encode(""),this._aad?(g=ax(this._aad),e=ar(f,ap.encode("."),ap.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await a2(j,this._plaintext,d,this._iv,e),n={ciphertext:ax(k)};return m&&(n.iv=ax(m)),l&&(n.tag=ax(l)),c&&(n.encrypted_key=ax(c)),g&&(n.aad=g),this._protectedHeader&&(n.protected=aq.decode(f)),this._sharedUnprotectedHeader&&(n.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(n.header=this._unprotectedHeader),n}}class bD{_flattened;constructor(a){this._flattened=new bC(a)}setContentEncryptionKey(a){return this._flattened.setContentEncryptionKey(a),this}setInitializationVector(a){return this._flattened.setInitializationVector(a),this}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}setKeyManagementParameters(a){return this._flattened.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this._flattened.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let bE=a=>Math.floor(a.getTime()/1e3),bF=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,bG=a=>{let b,c=bF.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function bH(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class bI{_payload;constructor(a={}){if(!aJ(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:bH("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:bH("setNotBefore",bE(a))}:this._payload={...this._payload,nbf:bE(new Date)+bG(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:bH("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:bH("setExpirationTime",bE(a))}:this._payload={...this._payload,exp:bE(new Date)+bG(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:bE(new Date)}:a instanceof Date?this._payload={...this._payload,iat:bH("setIssuedAt",bE(a))}:"string"==typeof a?this._payload={...this._payload,iat:bH("setIssuedAt",bE(new Date)+bG(a))}:this._payload={...this._payload,iat:bH("setIssuedAt",a)},this}}class bJ extends bI{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(a,b){let c=new bD(ap.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),c.setProtectedHeader(this._protectedHeader),this._iv&&c.setInitializationVector(this._iv),this._cek&&c.setContentEncryptionKey(this._cek),this._keyManagementParameters&&c.setKeyManagementParameters(this._keyManagementParameters),c.encrypt(a,b)}}async function bK(a,b){if(!aJ(a))throw TypeError("JWK must be an object");switch(b||=a.alg,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return ay(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new aD('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":var c;return(c={...a,alg:b}).d?(0,am.createPrivateKey)({format:"jwk",key:c}):(0,am.createPublicKey)({format:"jwk",key:c});default:throw new aD('Unsupported "kty" (Key Type) Parameter value')}}async function bL(a,b,c,d,e){switch(bu(a,b,"decrypt"),b=await bn.normalizePrivateKey?.(b,a)||b,a){case"dir":if(void 0!==c)throw new aF("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new aF("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!aJ(d.epk))throw new aF('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!bc(b))throw new aD("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await bK(d.epk,a);if(void 0!==d.apu){if("string"!=typeof d.apu)throw new aF('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=ay(d.apu)}catch{throw new aF("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new aF('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=ay(d.apv)}catch{throw new aF("Failed to base64url decode the apv")}}let h=await ba(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?bo(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new aF("JWE Encrypted Key missing");return a6(a.slice(-6),h,c)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new aF("JWE Encrypted Key missing");var f=b;let g=bk(a),h=bl(a),i=bm(f,a,"unwrapKey","decrypt");return bi(i,a),(0,am.privateDecrypt)({key:i,oaepHash:h,padding:g},c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new aF("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new aF('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new aF('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new aF('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=ay(d.p2s)}catch{throw new aF("Failed to base64url decode the p2s")}return bh(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new aF("JWE Encrypted Key missing");return a6(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new aF("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new aF('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new aF('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=ay(d.iv)}catch{throw new aF("Failed to base64url decode the iv")}try{f=ay(d.tag)}catch{throw new aF("Failed to base64url decode the tag")}return by(a,b,c,e,f)}default:throw new aD('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let bM=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};async function bN(a,b,c){let d,e,f,g,h,i,j;if(!aJ(a))throw new aF("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new aF("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new aF("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new aF("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new aF("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aF("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new aF("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new aF("JWE AAD incorrect type");if(void 0!==a.header&&!aJ(a.header))throw new aF("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!aJ(a.unprotected))throw new aF("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=ay(a.protected);d=JSON.parse(aq.decode(b))}catch{throw new aF("JWE Protected Header is invalid")}if(!bA(d,a.header,a.unprotected))throw new aF("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(bB(aF,new Map,c?.crit,d,k),void 0!==k.zip)throw new aD('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new aF("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new aF("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&bM("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&bM("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new aC('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new aC('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=ay(a.encrypted_key)}catch{throw new aF("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0);try{f=await bL(l,b,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof aF||a instanceof aD)throw a;f=bp(m)}if(void 0!==a.iv)try{g=ay(a.iv)}catch{throw new aF("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=ay(a.tag)}catch{throw new aF("Failed to base64url decode the tag")}let q=ap.encode(a.protected??"");i=void 0!==a.aad?ar(q,ap.encode("."),ap.encode(a.aad)):q;try{j=ay(a.ciphertext)}catch{throw new aF("Failed to base64url decode the ciphertext")}let r={plaintext:await bw(m,f,j,g,h,i)};if(void 0!==a.protected&&(r.protectedHeader=d),void 0!==a.aad)try{r.additionalAuthenticatedData=ay(a.aad)}catch{throw new aF("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(r.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(r.unprotectedHeader=a.header),p)?{...r,key:b}:r}async function bO(a,b,c){if(a instanceof Uint8Array&&(a=aq.decode(a)),"string"!=typeof a)throw new aF("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new aF("Invalid Compact JWE");let j=await bN({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}let bP=a=>a.toLowerCase().replace(/^application\//,"");async function bQ(a,b,c){let d=await bO(a,b,c),e=((a,b,c={})=>{let d,e,f,g;try{d=JSON.parse(aq.decode(b))}catch{}if(!aJ(d))throw new aG("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||bP(a.typ)!==bP(h)))throw new aA('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in d))throw new aA(`missing required "${a}" claim`,d,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(d.iss))throw new aA('unexpected "iss" claim value',d,"iss","check_failed");if(k&&d.sub!==k)throw new aA('unexpected "sub" claim value',d,"sub","check_failed");if(l&&(f=d.aud,g="string"==typeof l?[l]:l,"string"==typeof f?!g.includes(f):!(!!Array.isArray(f)&&g.some(Set.prototype.has.bind(new Set(f))))))throw new aA('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof c.clockTolerance){case"string":e=bG(c.clockTolerance);break;case"number":e=c.clockTolerance;break;case"undefined":e=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=bE(o||new Date);if((void 0!==d.iat||m)&&"number"!=typeof d.iat)throw new aA('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new aA('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>p+e)throw new aA('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new aA('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=p-e)throw new aB('"exp" claim timestamp check failed',d,"exp","check_failed")}if(m){let a=p-d.iat;if(a-e>("number"==typeof m?m:bG(m)))throw new aB('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(a<0-e)throw new aA('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d})(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new aA('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new aA('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new aA('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}var bR=c(6765);let bS="A256CBC-HS512";async function bT(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:e}=a,f=Array.isArray(c)?c:[c],g=await bV(bS,f[0],e),h=await aL({kty:"oct",k:ax(g)},`sha${g.byteLength<<3}`);return await new bJ(b).setProtectedHeader({alg:"dir",enc:bS,kid:h}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(g)}async function bU(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await bQ(b,async({kid:a,enc:b})=>{for(let c of e){let e=await bV(b,c,d);if(void 0===a||a===await aL({kty:"oct",k:ax(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[bS,"A256GCM"]});return f}async function bV(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await al("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function bW({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}let bX="\x1b[31m",bY="\x1b[0m",bZ={error(a){let b=a instanceof t?a.type:a.name;if(console.error(`${bX}[auth][error]${bY} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${bX}[auth][cause]${bY}:`,b.stack),c&&console.error(`${bX}[auth][details]${bY}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){let b=`https://warnings.authjs.dev#${a}`;console.warn(`\x1b[33m[auth][warn][${a}]${bY}`,`Read more: ${b}`)},debug(a,b){console.log(`\x1b[90m[auth][debug]:${bY} ${a}`,JSON.stringify(b,null,2))}};function b$(a){let b={...bZ};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let b_=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function b0(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function b1(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new Q("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new Q(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new Q(`Cannot parse action at ${a}`);let[e,f]=d;if(!b_.includes(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new Q(`Cannot parse action at ${a}`);return{action:e,providerId:f}}(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await b0(a):void 0,cookies:(0,bR.q)(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=b$(b);c.error(d),c.debug("request",a)}}function b2(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=(0,bR.l)(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function b3(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function b4(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}async function b5({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await b3(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=b4(32),f=await b3(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function b6(a,b){if(!b)throw new V(`CSRF token was missing during an action ${a}`)}function b7(a){return null!==a&&"object"==typeof a}function b8(a,...b){if(!b.length)return a;let c=b.shift();if(b7(a)&&b7(c))for(let b in c)b7(c[b])?(b7(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),b8(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return b8(a,...b)}let b9=Symbol("skip-csrf-check"),ca=Symbol("return-type-raw"),cb=Symbol("custom-fetch"),cc=Symbol("conform-internal"),cd=a=>cf({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),ce=a=>cf({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function cf(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function cg(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}let ch={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function ci({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:i}){var j,k;let l=b$(a),{providers:m,provider:n}=function(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=b8(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let a=function(a){a.issuer&&(a.wellKnown??(a.wellKnown=`${a.issuer}/.well-known/openid-configuration`));let b=cg(a.authorization,a.issuer);b&&!b.url?.searchParams.has("scope")&&b.url.searchParams.set("scope","openid profile email");let c=cg(a.token,a.issuer),d=cg(a.userinfo,a.issuer),e=a.checks??["pkce"];return a.redirectProxyUrl&&(e.includes("state")||e.push("state"),a.redirectProxyUrl=`${a.redirectProxyUrl}/callback/${a.id}`),{...a,authorization:b,token:c,checks:e,userinfo:d,profile:a.profile??cd,account:a.account??ce}}(h);return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[cb]??(a[cb]=e?.[cb]),a}return h});return{providers:e,provider:e.find(({id:a})=>a===b)}}({url:d,providerId:b,config:a}),o=!1;if((n?.type==="oauth"||n?.type==="oidc")&&n.redirectProxyUrl)try{o=new URL(n.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${n.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:n,cookies:b8(r(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:m,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:bT,decode:bU,...a.jwt},events:(j=a.events??{},k=l,Object.keys(j).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=j[b];return await c(...a)}catch(a){k.error(new z(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new v(c);throw b.error(a),a}},c),{})}(a.adapter,l),callbacks:{...ch,...a.callbacks},logger:l,callbackUrl:d.origin,isOnRedirectProxy:o,experimental:{...a.experimental}},q=[];if(h)p.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await b5({options:p,cookieValue:e?.[p.cookies.csrfToken.name],isPost:i,bodyValue:g});p.csrfToken=a,p.csrfTokenVerified=c,b&&q.push({name:p.cookies.csrfToken.name,value:b,options:p.cookies.csrfToken.options})}let{callbackUrl:s,callbackUrlCookie:t}=await bW({options:p,cookieValue:e?.[p.cookies.callbackUrl.name],paramValue:f});return p.callbackUrl=s,t&&q.push({name:p.cookies.callbackUrl.name,value:t,options:p.cookies.callbackUrl.options}),{options:p,cookies:q}}var cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu={},cv=[],cw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function cx(a,b){for(var c in b)a[c]=b[c];return a}function cy(a){var b=a.parentNode;b&&b.removeChild(a)}function cz(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==e?++cr:e};return null==e&&null!=cq.vnode&&cq.vnode(f),f}function cA(a){return a.children}function cB(a,b){this.props=a,this.context=b}function cC(a,b){if(null==b)return a.__?cC(a.__,a.__.__k.indexOf(a)+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?cC(a):null}function cD(a){(!a.__d&&(a.__d=!0)&&cs.push(a)&&!cE.__r++||ct!==cq.debounceRendering)&&((ct=cq.debounceRendering)||setTimeout)(cE)}function cE(){for(var a;cE.__r=cs.length;)a=cs.sort(function(a,b){return a.__v.__b-b.__v.__b}),cs=[],a.some(function(a){var b,c,d,e,f;a.__d&&(e=(d=a.__v).__e,(f=a.__P)&&(b=[],(c=cx({},d)).__v=d.__v+1,cL(f,d,c,a.__n,void 0!==f.ownerSVGElement,null!=d.__h?[e]:null,b,null==e?cC(d):e,d.__h),function(a,b){cq.__c&&cq.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){cq.__e(a,b.__v)}})}(b,d),d.__e!=e&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)))})}function cF(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r=d&&d.__k||cv,s=r.length;for(c.__k=[],k=0;k<b.length;k++)if(null!=(n=c.__k[k]=null==(n=b[k])||"boolean"==typeof n?null:"string"==typeof n||"number"==typeof n||"bigint"==typeof n?cz(null,n,null,null,n):Array.isArray(n)?cz(cA,{children:n},null,null,null):n.__b>0?cz(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)){if(n.__=c,n.__b=c.__b+1,null===(m=r[k])||m&&n.key==m.key&&n.type===m.type)r[k]=void 0;else for(l=0;l<s;l++){if((m=r[l])&&n.key==m.key&&n.type===m.type){r[l]=void 0;break}m=null}cL(a,n,m=m||cu,e,f,g,h,i,j),o=n.__e,(l=n.ref)&&m.ref!=l&&(q||(q=[]),m.ref&&q.push(m.ref,null,n),q.push(l,n.__c||o,n)),null!=o?(null==p&&(p=o),"function"==typeof n.type&&n.__k===m.__k?n.__d=i=function a(b,c,d){for(var e,f=b.__k,g=0;f&&g<f.length;g++)(e=f[g])&&(e.__=b,c="function"==typeof e.type?a(e,c,d):cG(d,e,e,f,e.__e,c));return c}(n,i,a):i=cG(a,n,m,r,o,i),"function"==typeof c.type&&(c.__d=i)):i&&m.__e==i&&i.parentNode!=a&&(i=cC(m))}for(c.__e=p,k=s;k--;)null!=r[k]&&function a(b,c,d){var e,f;if(cq.unmount&&cq.unmount(b),(e=b.ref)&&(e.current&&e.current!==b.__e||cM(e,null,c)),null!=(e=b.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){cq.__e(a,c)}e.base=e.__P=null,b.__c=void 0}if(e=b.__k)for(f=0;f<e.length;f++)e[f]&&a(e[f],c,d||"function"!=typeof b.type);d||null==b.__e||cy(b.__e),b.__=b.__e=b.__d=void 0}(r[k],r[k]);if(q)for(k=0;k<q.length;k++)cM(q[k],q[++k],q[++k])}function cG(a,b,c,d,e,f){var g,h,i;if(void 0!==b.__d)g=b.__d,b.__d=void 0;else if(null==c||e!=f||null==e.parentNode)a:if(null==f||f.parentNode!==a)a.appendChild(e),g=null;else{for(h=f,i=0;(h=h.nextSibling)&&i<d.length;i+=1)if(h==e)break a;a.insertBefore(e,f),g=f}return void 0!==g?g:e.nextSibling}function cH(a,b,c){"-"===b[0]?a.setProperty(b,c):a[b]=null==c?"":"number"!=typeof c||cw.test(b)?c:c+"px"}function cI(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||cH(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||cH(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/Capture$/,"")),b=b.toLowerCase()in a?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d||a.addEventListener(b,f?cK:cJ,f):a.removeEventListener(b,f?cK:cJ,f);else if("dangerouslySetInnerHTML"!==b){if(e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==b&&"list"!==b&&"form"!==b&&"tabIndex"!==b&&"download"!==b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&-1==b.indexOf("-")?a.removeAttribute(b):a.setAttribute(b,c))}}function cJ(a){this.l[a.type+!1](cq.event?cq.event(a):a)}function cK(a){this.l[a.type+!0](cq.event?cq.event(a):a)}function cL(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=b.type;if(void 0!==b.constructor)return null;null!=c.__h&&(i=c.__h,h=b.__e=c.__e,b.__h=null,f=[h]),(j=cq.__b)&&j(b);try{a:if("function"==typeof y){if(q=b.props,r=(j=y.contextType)&&d[j.__c],s=j?r?r.props.value:j.__:d,c.__c?p=(k=b.__c=c.__c).__=k.__E:("prototype"in y&&y.prototype.render?b.__c=k=new y(q,s):(b.__c=k=new cB(q,s),k.constructor=y,k.render=cN),r&&r.sub(k),k.props=q,k.state||(k.state={}),k.context=s,k.__n=d,l=k.__d=!0,k.__h=[],k._sb=[]),null==k.__s&&(k.__s=k.state),null!=y.getDerivedStateFromProps&&(k.__s==k.state&&(k.__s=cx({},k.__s)),cx(k.__s,y.getDerivedStateFromProps(q,k.__s))),m=k.props,n=k.state,l)null==y.getDerivedStateFromProps&&null!=k.componentWillMount&&k.componentWillMount(),null!=k.componentDidMount&&k.__h.push(k.componentDidMount);else{if(null==y.getDerivedStateFromProps&&q!==m&&null!=k.componentWillReceiveProps&&k.componentWillReceiveProps(q,s),!k.__e&&null!=k.shouldComponentUpdate&&!1===k.shouldComponentUpdate(q,k.__s,s)||b.__v===c.__v){for(k.props=q,k.state=k.__s,b.__v!==c.__v&&(k.__d=!1),k.__v=b,b.__e=c.__e,b.__k=c.__k,b.__k.forEach(function(a){a&&(a.__=b)}),t=0;t<k._sb.length;t++)k.__h.push(k._sb[t]);k._sb=[],k.__h.length&&g.push(k);break a}null!=k.componentWillUpdate&&k.componentWillUpdate(q,k.__s,s),null!=k.componentDidUpdate&&k.__h.push(function(){k.componentDidUpdate(m,n,o)})}if(k.context=s,k.props=q,k.__v=b,k.__P=a,u=cq.__r,v=0,"prototype"in y&&y.prototype.render){for(k.state=k.__s,k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),w=0;w<k._sb.length;w++)k.__h.push(k._sb[w]);k._sb=[]}else do k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),k.state=k.__s;while(k.__d&&++v<25);k.state=k.__s,null!=k.getChildContext&&(d=cx(cx({},d),k.getChildContext())),l||null==k.getSnapshotBeforeUpdate||(o=k.getSnapshotBeforeUpdate(m,n)),x=null!=j&&j.type===cA&&null==j.key?j.props.children:j,cF(a,Array.isArray(x)?x:[x],b,c,d,e,f,g,h,i),k.base=b.__e,b.__h=null,k.__h.length&&g.push(k),p&&(k.__E=k.__=null),k.__e=!1}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h){var i,j,k,l=c.props,m=b.props,n=b.type,o=0;if("svg"===n&&(e=!0),null!=f){for(;o<f.length;o++)if((i=f[o])&&"setAttribute"in i==!!n&&(n?i.localName===n:3===i.nodeType)){a=i,f[o]=null;break}}if(null==a){if(null===n)return document.createTextNode(m);a=e?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n,m.is&&m),f=null,h=!1}if(null===n)l===m||h&&a.data===m||(a.data=m);else{if(f=f&&cp.call(a.childNodes),j=(l=c.props||cu).dangerouslySetInnerHTML,k=m.dangerouslySetInnerHTML,!h){if(null!=f)for(l={},o=0;o<a.attributes.length;o++)l[a.attributes[o].name]=a.attributes[o].value;(k||j)&&(k&&(j&&k.__html==j.__html||k.__html===a.innerHTML)||(a.innerHTML=k&&k.__html||""))}if(function(a,b,c,d,e){var f;for(f in c)"children"===f||"key"===f||f in b||cI(a,f,null,c[f],d);for(f in b)e&&"function"!=typeof b[f]||"children"===f||"key"===f||"value"===f||"checked"===f||c[f]===b[f]||cI(a,f,b[f],c[f],d)}(a,m,l,e,h),k)b.__k=[];else if(cF(a,Array.isArray(o=b.props.children)?o:[o],b,c,d,e&&"foreignObject"!==n,f,g,f?f[0]:c.__k&&cC(c,0),h),null!=f)for(o=f.length;o--;)null!=f[o]&&cy(f[o]);h||("value"in m&&void 0!==(o=m.value)&&(o!==a.value||"progress"===n&&!o||"option"===n&&o!==l.value)&&cI(a,"value",o,l.value,!1),"checked"in m&&void 0!==(o=m.checked)&&o!==a.checked&&cI(a,"checked",o,l.checked,!1))}return a}(c.__e,b,c,d,e,f,g,i);(j=cq.diffed)&&j(b)}catch(a){b.__v=null,(i||null!=f)&&(b.__e=h,b.__h=!!i,f[f.indexOf(h)]=null),cq.__e(a,b,c)}}function cM(a,b,c){try{"function"==typeof a?a(b):a.current=b}catch(a){cq.__e(a,c)}}function cN(a,b,c){return this.constructor(a,c)}cp=cv.slice,cq={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},cr=0,cB.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=cx({},this.state),"function"==typeof a&&(a=a(cx({},c),this.props)),a&&cx(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),cD(this))},cB.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),cD(this))},cB.prototype.render=cA,cs=[],cE.__r=0;var cO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,cP=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,cQ=/[\s\n\\/='"\0<>]/,cR=/^xlink:?./,cS=/["&<]/;function cT(a){if(!1===cS.test(a+=""))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var cU=function(a,b){return String(a).replace(/(\n+)/g,"$1"+(b||"	"))},cV=function(a,b,c){return String(a).length>(b||40)||!c&&-1!==String(a).indexOf("\n")||-1!==String(a).indexOf("<")},cW={},cX=/([A-Z])/g;function cY(a){var b="";for(var c in a){var d=a[c];null!=d&&""!==d&&(b&&(b+=" "),b+="-"==c[0]?c:cW[c]||(cW[c]=c.replace(cX,"-$1").toLowerCase()),b="number"==typeof d&&!1===cO.test(c)?b+": "+d+"px;":b+": "+d+";")}return b||void 0}function cZ(a,b){return Array.isArray(b)?b.reduce(cZ,a):null!=b&&!1!==b&&a.push(b),a}function c$(){this.__d=!0}function c_(a,b){return{__v:a,context:b,props:a.props,setState:c$,forceUpdate:c$,__d:!0,__h:[]}}function c0(a,b){var c=a.contextType,d=c&&b[c.__c];return null!=c?d?d.props.value:c.__:b}var c1=[],c2={shallow:!0};c4.render=c4;var c3=[];function c4(a,b,c){b=b||{};var d,e=cq.__s;return cq.__s=!0,d=c&&(c.pretty||c.voidElements||c.sortAttributes||c.shallow||c.allAttributes||c.xml||c.attributeHook)?function a(b,c,d,e,f,g){if(null==b||"boolean"==typeof b)return"";if("object"!=typeof b)return cT(b);var h=d.pretty,i=h&&"string"==typeof h?h:"	";if(Array.isArray(b)){for(var j="",k=0;k<b.length;k++)h&&k>0&&(j+="\n"),j+=a(b[k],c,d,e,f,g);return j}var l,m=b.type,n=b.props,o=!1;if("function"==typeof m){if(o=!0,!d.shallow||!e&&!1!==d.renderRootComponent){if(m===cA){var p=[];return cZ(p,b.props.children),a(p,c,d,!1!==d.shallowHighOrder,f,g)}var q,r=b.__c=c_(b,c);cq.__b&&cq.__b(b);var s=cq.__r;if(m.prototype&&"function"==typeof m.prototype.render){var t=c0(m,c);(r=b.__c=new m(n,t)).__v=b,r._dirty=r.__d=!0,r.props=n,null==r.state&&(r.state={}),null==r._nextState&&null==r.__s&&(r._nextState=r.__s=r.state),r.context=t,m.getDerivedStateFromProps?r.state=Object.assign({},r.state,m.getDerivedStateFromProps(r.props,r.state)):r.componentWillMount&&(r.componentWillMount(),r.state=r._nextState!==r.state?r._nextState:r.__s!==r.state?r.__s:r.state),s&&s(b),q=r.render(r.props,r.state,r.context)}else for(var u=c0(m,c),v=0;r.__d&&v++<25;)r.__d=!1,s&&s(b),q=m.call(b.__c,n,u);return r.getChildContext&&(c=Object.assign({},c,r.getChildContext())),cq.diffed&&cq.diffed(b),a(q,c,d,!1!==d.shallowHighOrder,f,g)}m=(l=m).displayName||l!==Function&&l.name||function(a){var b=(Function.prototype.toString.call(a).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!b){for(var c=-1,d=c1.length;d--;)if(c1[d]===a){c=d;break}c<0&&(c=c1.push(a)-1),b="UnnamedComponent"+c}return b}(l)}var w,x,y="<"+m;if(n){var z=Object.keys(n);d&&!0===d.sortAttributes&&z.sort();for(var A=0;A<z.length;A++){var B=z[A],C=n[B];if("children"!==B){if(!cQ.test(B)&&(d&&d.allAttributes||"key"!==B&&"ref"!==B&&"__self"!==B&&"__source"!==B)){if("defaultValue"===B)B="value";else if("defaultChecked"===B)B="checked";else if("defaultSelected"===B)B="selected";else if("className"===B){if(void 0!==n.class)continue;B="class"}else f&&cR.test(B)&&(B=B.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===B){if(n.for)continue;B="for"}"style"===B&&C&&"object"==typeof C&&(C=cY(C)),"a"===B[0]&&"r"===B[1]&&"boolean"==typeof C&&(C=String(C));var D=d.attributeHook&&d.attributeHook(B,C,c,d,o);if(D||""===D)y+=D;else if("dangerouslySetInnerHTML"===B)x=C&&C.__html;else if("textarea"===m&&"value"===B)w=C;else if((C||0===C||""===C)&&"function"!=typeof C){if(!(!0!==C&&""!==C||(C=B,d&&d.xml))){y=y+" "+B;continue}if("value"===B){if("select"===m){g=C;continue}"option"===m&&g==C&&void 0===n.selected&&(y+=" selected")}y=y+" "+B+'="'+cT(C)+'"'}}}else w=C}}if(h){var E=y.replace(/\n\s*/," ");E===y||~E.indexOf("\n")?h&&~y.indexOf("\n")&&(y+="\n"):y=E}if(y+=">",cQ.test(m))throw Error(m+" is not a valid HTML tag name in "+y);var F,G=cP.test(m)||d.voidElements&&d.voidElements.test(m),H=[];if(x)h&&cV(x)&&(x="\n"+i+cU(x,i)),y+=x;else if(null!=w&&cZ(F=[],w).length){for(var I=h&&~y.indexOf("\n"),J=!1,K=0;K<F.length;K++){var L=F[K];if(null!=L&&!1!==L){var M=a(L,c,d,!0,"svg"===m||"foreignObject"!==m&&f,g);if(h&&!I&&cV(M)&&(I=!0),M)if(h){var N=M.length>0&&"<"!=M[0];J&&N?H[H.length-1]+=M:H.push(M),J=N}else H.push(M)}}if(h&&I)for(var O=H.length;O--;)H[O]="\n"+i+cU(H[O],i)}if(H.length||x)y+=H.join("");else if(d&&d.xml)return y.substring(0,y.length-1)+" />";return!G||F||x?(h&&~y.indexOf("\n")&&(y+="\n"),y=y+"</"+m+">"):y=y.replace(/>$/," />"),y}(a,b,c):function a(b,c,d,e){if(null==b||!0===b||!1===b||""===b)return"";if("object"!=typeof b)return cT(b);if(c5(b)){for(var f="",g=0;g<b.length;g++)f+=a(b[g],c,d,e);return f}cq.__b&&cq.__b(b);var h=b.type,i=b.props;if("function"==typeof h){if(h===cA)return a(b.props.children,c,d,e);var j,k,l,m,n,o=h.prototype&&"function"==typeof h.prototype.render?(j=c,l=c0(k=b.type,j),m=new k(b.props,l),b.__c=m,m.__v=b,m.__d=!0,m.props=b.props,null==m.state&&(m.state={}),null==m.__s&&(m.__s=m.state),m.context=l,k.getDerivedStateFromProps?m.state=c6({},m.state,k.getDerivedStateFromProps(m.props,m.state)):m.componentWillMount&&(m.componentWillMount(),m.state=m.__s!==m.state?m.__s:m.state),(n=cq.__r)&&n(b),m.render(m.props,m.state,m.context)):function(a,b){var c,d=c_(a,b),e=c0(a.type,b);a.__c=d;for(var f=cq.__r,g=0;d.__d&&g++<25;)d.__d=!1,f&&f(a),c=a.type.call(d,a.props,e);return c}(b,c),p=b.__c;p.getChildContext&&(c=c6({},c,p.getChildContext()));var q=a(o,c,d,e);return cq.diffed&&cq.diffed(b),q}var r,s,t="<";if(t+=h,i)for(var u in r=i.children,i){var v,w,x,y=i[u];if(!("key"===u||"ref"===u||"__self"===u||"__source"===u||"children"===u||"className"===u&&"class"in i||"htmlFor"===u&&"for"in i||cQ.test(u))){if(w=u="className"===(v=u)?"class":"htmlFor"===v?"for":"defaultValue"===v?"value":"defaultChecked"===v?"checked":"defaultSelected"===v?"selected":d&&cR.test(v)?v.toLowerCase().replace(/^xlink:?/,"xlink:"):v,x=y,y="style"===w&&null!=x&&"object"==typeof x?cY(x):"a"===w[0]&&"r"===w[1]&&"boolean"==typeof x?String(x):x,"dangerouslySetInnerHTML"===u)s=y&&y.__html;else if("textarea"===h&&"value"===u)r=y;else if((y||0===y||""===y)&&"function"!=typeof y){if(!0===y||""===y){y=u,t=t+" "+u;continue}if("value"===u){if("select"===h){e=y;continue}"option"!==h||e!=y||"selected"in i||(t+=" selected")}t=t+" "+u+'="'+cT(y)+'"'}}}var z=t;if(t+=">",cQ.test(h))throw Error(h+" is not a valid HTML tag name in "+t);var A="",B=!1;if(s)A+=s,B=!0;else if("string"==typeof r)A+=cT(r),B=!0;else if(c5(r))for(var C=0;C<r.length;C++){var D=r[C];if(null!=D&&!1!==D){var E=a(D,c,"svg"===h||"foreignObject"!==h&&d,e);E&&(A+=E,B=!0)}}else if(null!=r&&!1!==r&&!0!==r){var F=a(r,c,"svg"===h||"foreignObject"!==h&&d,e);F&&(A+=F,B=!0)}if(cq.diffed&&cq.diffed(b),B)t+=A;else if(cP.test(h))return z+" />";return t+"</"+h+">"}(a,b,!1,void 0),cq.__c&&cq.__c(a,c3),cq.__s=e,c3.length=0,d}var c5=Array.isArray,c6=Object.assign;c4.shallowRender=function(a,b){return c4(a,b,c2)};var c7=0;function c8(a,b,c,d,e){var f,g,h={};for(g in b)"ref"==g?f=b[g]:h[g]=b[g];var i={type:a,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--c7,__source:e,__self:d};if("function"==typeof a&&(f=a.defaultProps))for(g in f)void 0===h[g]&&(h[g]=f[g]);return cq.vnode&&cq.vnode(i),i}async function c9(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let da={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},db=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function dc({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${db}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${c4(a)}</div></body></html>`}}function dd(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new Q("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return dc({cookies:e,theme:c,html:function(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"undefined"!=typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"undefined"!=typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(da[g]??da.default),i=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return c8("div",{className:"signin",children:[e?.brandColor&&c8("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&c8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),c8("div",{className:"card",children:[h&&c8("div",{className:"error",children:c8("p",{children:h})}),e?.logo&&c8("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,i;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:i=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let j=h??g??"#fff";return c8("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?c8("form",{action:a.signinUrl,method:"POST",children:[c8("input",{type:"hidden",name:"csrfToken",value:b}),d&&c8("input",{type:"hidden",name:"callbackUrl",value:d}),c8("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${j} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${j} 30%, #000)`},tabIndex:0,children:[c8("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),i&&c8("img",{loading:"lazy",height:24,src:i})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&c8("hr",{}),"email"===a.type&&c8("form",{action:a.signinUrl,method:"POST",children:[c8("input",{type:"hidden",name:"csrfToken",value:b}),c8("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),c8("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),c8("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&c8("form",{action:a.callbackUrl,method:"POST",children:[c8("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>c8("div",{children:[c8("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),c8("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),c8("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&c8("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[c8("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>c8("div",{children:[c8("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),c8("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),c8("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&c8("hr",{})]},a.id)})]}),i&&c8(cA,{children:c8("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${c9})(authURL, "${i}");
`}})})]})}({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:dc({cookies:e,theme:c,html:function(a){let{url:b,csrfToken:c,theme:d}=a;return c8("div",{className:"signout",children:[d?.brandColor&&c8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&c8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),c8("div",{className:"card",children:[d?.logo&&c8("img",{src:d.logo,alt:"Logo",className:"logo"}),c8("h1",{children:"Signout"}),c8("p",{children:"Are you sure you want to sign out?"}),c8("form",{action:b?.toString(),method:"POST",children:[c8("input",{type:"hidden",name:"csrfToken",value:c}),c8("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:f.verifyRequest,cookies:e}:dc({cookies:e,theme:c,html:function(a){let{url:b,theme:c}=a;return c8("div",{className:"verify-request",children:[c.brandColor&&c8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),c8("div",{className:"card",children:[c.logo&&c8("img",{src:c.logo,alt:"Logo",className:"logo"}),c8("h1",{children:"Check your email"}),c8("p",{children:"A sign in link has been sent to your email address."}),c8("p",{children:c8("a",{className:"site",href:b.origin,children:b.host})})]})]})}({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:dc({cookies:e,theme:c,...function(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:c8("p",{children:c8("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:c8("div",{children:[c8("p",{children:"There is a problem with the server configuration."}),c8("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:c8("div",{children:[c8("p",{children:"You do not have permission to sign in."}),c8("p",{children:c8("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:c8("div",{children:[c8("p",{children:"The sign in link is no longer valid."}),c8("p",{children:"It may have been used already or it may have expired."})]}),signin:c8("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:c8("div",{className:"error",children:[d?.brandColor&&c8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),c8("div",{className:"card",children:[d?.logo&&c8("img",{src:d?.logo,alt:"Logo",className:"logo"}),c8("h1",{children:h}),c8("div",{className:"message",children:i}),j]})]})}}({url:b,theme:c,error:a}),title:"Error"})}}function de(a,b=Date.now()){return new Date(b+1e3*a)}async function df(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=c,{createUser:k,updateUser:l,getUser:m,getUserByAccount:n,getUserByEmail:o,linkAccount:p,createSession:q,getSessionAndUser:r,deleteSession:s}=e,t=null,u=null,v=!1,w="jwt"===h;if(a)if(w)try{let b=d.cookies.sessionToken.name;(t=await f.decode({...f,token:a,salt:b}))&&"sub"in t&&t.sub&&(u=await m(t.sub))}catch{}else{let b=await r(a);b&&(t=b.session,u=b.user)}if("email"===j.type){let c=await o(b.email);return c?(u?.id!==c.id&&!w&&a&&await s(a),u=await l({id:c.id,emailVerified:new Date}),await g.updateUser?.({user:u})):(u=await k({...b,emailVerified:new Date}),await g.createUser?.({user:u}),v=!0),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:de(d.session.maxAge)}),user:u,isNewUser:v}}if("webauthn"===j.type){let a=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(a){if(u){if(a.id===u.id){let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}throw new $("The account is already associated with another user",{provider:j.provider})}t=w?{}:await q({sessionToken:i(),userId:a.id,expires:de(d.session.maxAge)});let b={...j,userId:a.id};return{session:t,user:a,isNewUser:v,account:b}}{if(u){await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}if(b.email?await o(b.email):null)throw new $("Another account already exists with the same e-mail address",{provider:j.provider});u=await k({...b}),await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),t=w?{}:await q({sessionToken:i(),userId:u.id,expires:de(d.session.maxAge)});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:!0,account:a}}}let x=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(x){if(u){if(x.id===u.id)return{session:t,user:u,isNewUser:v};throw new J("The account is already associated with another user",{provider:j.provider})}return{session:t=w?{}:await q({sessionToken:i(),userId:x.id,expires:de(d.session.maxAge)}),user:x,isNewUser:v}}{let{provider:a}=d,{type:c,provider:e,providerAccountId:f,userId:h,...l}=j;if(j=Object.assign(a.account(l)??{},{providerAccountId:f,provider:e,type:c,userId:h}),u)return await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t,user:u,isNewUser:v};let m=b.email?await o(b.email):null;if(m){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)u=m,v=!1;else throw new J("Another account already exists with the same e-mail address",{provider:j.provider})}else u=await k({...b,emailVerified:null}),v=!0;return await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:de(d.session.maxAge)}),user:u,isNewUser:v}}}function dg(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(f="oauth4webapi/v3.8.0");let dh="ERR_INVALID_ARG_VALUE",di="ERR_INVALID_ARG_TYPE";function dj(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let dk=Symbol(),dl=Symbol(),dm=Symbol(),dn=Symbol(),dp=Symbol(),dq=Symbol();Symbol();let dr=new TextEncoder,ds=new TextDecoder;function dt(a){return"string"==typeof a?dr.encode(a):ds.decode(a)}function du(a){return"string"==typeof a?h(a):g(a)}g=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},h=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw dj("The input to be decoded is not correctly encoded.",dh,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw dj("The input to be decoded is not correctly encoded.",dh,a)}};class dv extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ew,Error.captureStackTrace?.(this,this.constructor)}}class dw extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function dx(a,b,c){return new dw(a,{code:b,cause:c})}function dy(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function dz(a){dg(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(f&&!b.has("user-agent")&&b.set("user-agent",f),b.has("authorization"))throw dj('"options.headers" must not include the "authorization" header name',dh);return b}function dA(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw dj('"options.signal" must return or be an instance of AbortSignal',di);return b}}function dB(a){return a.includes("//")?a.replace("//","/"):a}async function dC(a,b,c,d){if(!(a instanceof URL))throw dj(`"${b}" must be an instance of URL`,di);dS(a,d?.[dk]!==!0);let e=c(new URL(a.href)),f=dz(d?.headers);return f.set("accept","application/json"),(d?.[dn]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:dA(e,d?.signal)})}async function dD(a,b){return dC(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=dB(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=dB(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw dj('"options.algorithm" must be "oidc" (default), or "oauth2"',dh)}return a},b)}function dE(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw dj(`${c} must be a number`,di,e);if(a>0)return;if(b){if(0!==a)throw dj(`${c} must be a non-negative number`,dh,e);return}throw dj(`${c} must be a positive number`,dh,e)}catch(a){if(d)throw dx(a.message,d,e);throw a}}function dF(a,b,c,d){try{if("string"!=typeof a)throw dj(`${b} must be a string`,di,d);if(0===a.length)throw dj(`${b} must not be empty`,dh,d)}catch(a){if(c)throw dx(a.message,c,d);throw a}}async function dG(a,b){if(!(a instanceof URL)&&a!==eS)throw dj('"expectedIssuerIdentifier" must be an instance of URL',di);if(!dg(b,Response))throw dj('"response" must be an instance of Response',di);if(200!==b.status)throw dx('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',eC,b);eK(b);let c=await eR(b);if(dF(c.issuer,'"response" body "issuer" property',eA,{body:c}),a!==eS&&new URL(c.issuer).href!==a.href)throw dx('"response" body "issuer" property does not match the expected value',eH,{expected:a.href,body:c,attribute:"issuer"});return c}function dH(a){var b=a,c="application/json";if(d7(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return dx(c,eB,a)}(b,c)}function dI(){return du(crypto.getRandomValues(new Uint8Array(32)))}async function dJ(a){return dF(a,"codeVerifier"),du(await crypto.subtle.digest("SHA-256",dt(a)))}function dK(a){let b=a?.[dl];return"number"==typeof b&&Number.isFinite(b)?b:0}function dL(a){let b=a?.[dm];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function dM(){return Math.floor(Date.now()/1e3)}function dN(a){if("object"!=typeof a||null===a)throw dj('"as" must be an object',di);dF(a.issuer,'"as.issuer"')}function dO(a){if("object"!=typeof a||null===a)throw dj('"client" must be an object',di);dF(a.client_id,'"client.client_id"')}function dP(a,b){let c=dM()+dK(b);return{jti:dI(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}async function dQ(a,b,c){if(!c.usages.includes("sign"))throw dj('CryptoKey instances used for signing assertions must include "sign" in their "usages"',dh);let d=`${du(dt(JSON.stringify(a)))}.${du(dt(JSON.stringify(b)))}`,e=du(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new dv("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(eL(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new dv("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return eL(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new dv("unsupported CryptoKey algorithm name",{cause:a})}(c),c,dt(d)));return`${d}.${e}`}let dR=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function dS(a,b){if(b&&"https:"!==a.protocol)throw dx("only requests to HTTPS are allowed",eD,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw dx("only HTTP and HTTPS requests are allowed",eE,a)}function dT(a,b,c,d){let e;if("string"!=typeof a||!(e=dR(a)))throw dx(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?eI:eJ,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return dS(e,d),e}function dU(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?dT(a.mtls_endpoint_aliases[b],b,c,d):dT(a[b],b,c,d)}class dV extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ev,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class dW extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ex,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class dX extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=eu,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let dY="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",dZ=RegExp("^[,\\s]*("+dY+")\\s(.*)"),d$=RegExp("^[,\\s]*("+dY+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),d_=RegExp("^[,\\s]*"+("("+dY+")\\s*=\\s*(")+dY+")[,\\s]*(.*)"),d0=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function d1(a){if(a.status>399&&a.status<500){eK(a),dH(a);try{let b=await a.clone().json();if(dy(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function d2(a,b,c){if(a.status!==b){let b;if(ef(a),b=await d1(a))throw await a.body?.cancel(),new dV("server responded with an error in the response body",{cause:b,response:a});throw dx(`"response" is not a conform ${c} response (unexpected HTTP status code)`,eC,a)}}function d3(a){if(!ek.has(a))throw dj('"options.DPoP" is not a valid DPoPHandle',dh)}async function d4(a,b,c,d,e,f){if(dF(a,'"accessToken"'),!(c instanceof URL))throw dj('"url" must be an instance of URL',di);dS(c,f?.[dk]!==!0),d=dz(d),f?.DPoP&&(d3(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[dn]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:dA(c,f?.signal)});return f?.DPoP?.cacheNonce(g),g}async function d5(a,b,c,d){dN(a),dO(b);let e=dU(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[dk]!==!0),f=dz(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),d4(c,"GET",e,f,null,{...d,[dl]:dK(b)})}let d6=Symbol();function d7(a){return a.headers.get("content-type")?.split(";")[0]}async function d8(a,b,c,d,e){let f;if(dN(a),dO(b),!dg(d,Response))throw dj('"response" must be an instance of Response',di);if(ef(d),200!==d.status)throw dx('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',eC,d);if(eK(d),"application/jwt"===d7(d)){let{claims:c,jwt:g}=await eM(await d.text(),eN.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),dK(b),dL(b),e?.[dq]).then(eg.bind(void 0,b.client_id)).then(ei.bind(void 0,a));ec.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw dx("JWT UserInfo Response expected",ey,d);f=await eR(d)}if(dF(f.sub,'"response" body "sub" property',eA,{body:f}),c===d6);else if(dF(c,'"expectedSubject"'),f.sub!==c)throw dx('unexpected "response" body "sub" property value',eH,{expected:c,body:f,attribute:"sub"});return f}async function d9(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[dn]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:dA(d,g?.signal)})}async function ea(a,b,c,d,e,f){let g=dU(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[dk]!==!0);e.set("grant_type",d);let h=dz(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(d3(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await d9(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i),i}let eb=new WeakMap,ec=new WeakMap;function ed(a){if(!a.id_token)return;let b=eb.get(a);if(!b)throw dj('"ref" was already garbage collected or did not resolve from the proper sources',dh);return b}async function ee(a,b,c,d,e,f){if(dN(a),dO(b),!dg(c,Response))throw dj('"response" must be an instance of Response',di);await d2(c,200,"Token Endpoint"),eK(c);let g=await eR(c);if(dF(g.access_token,'"response" body "access_token" property',eA,{body:g}),dF(g.token_type,'"response" body "token_type" property',eA,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;dE(a,!0,'"response" body "expires_in" property',eA,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&dF(g.refresh_token,'"response" body "refresh_token" property',eA,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw dx('"response" body "scope" property must be a string',eA,{body:g});if(void 0!==g.id_token){dF(g.id_token,'"response" body "id_token" property',eA,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(dE(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await eM(g.id_token,eN.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),dK(b),dL(b),e).then(eo.bind(void 0,f)).then(ej.bind(void 0,a)).then(eh.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw dx('ID Token "aud" (audience) claim includes additional untrusted audiences',eG,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw dx('unexpected ID Token "azp" (authorized party) claim value',eG,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&dE(h.auth_time,!0,'ID Token "auth_time" (authentication time)',eA,{claims:h}),ec.set(c,i),eb.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new dv("unsupported `token_type` value",{cause:{body:g}});return g}function ef(a){let b;if(b=function(a){if(!dg(a,Response))throw dj('"response" must be an instance of Response',di);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(dZ),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(d$)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(d_)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(d0)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new dX("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function eg(a,b){return void 0!==b.claims.aud?eh(a,b):b}function eh(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw dx('unexpected JWT "aud" (audience) claim value',eG,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw dx('unexpected JWT "aud" (audience) claim value',eG,{expected:a,claims:b.claims,claim:"aud"});return b}function ei(a,b){return void 0!==b.claims.iss?ej(a,b):b}function ej(a,b){let c=a[eT]?.(b)??a.issuer;if(b.claims.iss!==c)throw dx('unexpected JWT "iss" (issuer) claim value',eG,{expected:c,claims:b.claims,claim:"iss"});return b}let ek=new WeakSet,el=Symbol();async function em(a,b,c,d,e,f,g){if(dN(a),dO(b),!ek.has(d))throw dj('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',dh);dF(e,'"redirectUri"');let h=eO(d,"code");if(!h)throw dx('no authorization code in "callbackParameters"',eA);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==el&&(dF(f,'"codeVerifier"'),i.set("code_verifier",f)),ea(a,b,c,"authorization_code",i,g)}let en={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function eo(a,b){for(let c of a)if(void 0===b.claims[c])throw dx(`JWT "${c}" (${en[c]}) claim missing`,eA,{claims:b.claims});return b}let ep=Symbol(),eq=Symbol();async function er(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?es(a,b,c,d.expectedNonce,d.maxAge,d[dq],d.recognizedTokenTypes):et(a,b,c,d?.[dq],d?.recognizedTokenTypes)}async function es(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=ep;break;case ep:break;default:dF(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=eq;break;case eq:break;default:dE(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await ee(a,b,c,h,f,g);dF(i.id_token,'"response" body "id_token" property',eA,{body:i});let j=ed(i);if(e!==eq){let a=dM()+dK(b),c=dL(b);if(j.auth_time+e<a-c)throw dx("too much time has elapsed since the last End-User authentication",eF,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===ep){if(void 0!==j.nonce)throw dx('unexpected ID Token "nonce" claim value',eG,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw dx('unexpected ID Token "nonce" claim value',eG,{expected:d,claims:j,claim:"nonce"});return i}async function et(a,b,c,d,e){let f=await ee(a,b,c,void 0,d,e),g=ed(f);if(g){if(void 0!==b.default_max_age){dE(b.default_max_age,!0,'"client.default_max_age"');let a=dM()+dK(b),c=dL(b);if(g.auth_time+b.default_max_age<a-c)throw dx("too much time has elapsed since the last End-User authentication",eF,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw dx('unexpected ID Token "nonce" claim value',eG,{expected:void 0,claims:g,claim:"nonce"})}return f}let eu="OAUTH_WWW_AUTHENTICATE_CHALLENGE",ev="OAUTH_RESPONSE_BODY_ERROR",ew="OAUTH_UNSUPPORTED_OPERATION",ex="OAUTH_AUTHORIZATION_RESPONSE_ERROR",ey="OAUTH_JWT_USERINFO_EXPECTED",ez="OAUTH_PARSE_ERROR",eA="OAUTH_INVALID_RESPONSE",eB="OAUTH_RESPONSE_IS_NOT_JSON",eC="OAUTH_RESPONSE_IS_NOT_CONFORM",eD="OAUTH_HTTP_REQUEST_FORBIDDEN",eE="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",eF="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",eG="OAUTH_JWT_CLAIM_COMPARISON_FAILED",eH="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",eI="OAUTH_MISSING_SERVER_METADATA",eJ="OAUTH_INVALID_SERVER_METADATA";function eK(a){if(a.bodyUsed)throw dj('"response" body has been used already',dh)}function eL(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new dv(`unsupported ${b.name} modulusLength`,{cause:a})}async function eM(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new dv("JWE decryption is not configured",{cause:a});if(3!==j)throw dx("Invalid JWT",eA,a);try{f=JSON.parse(dt(du(h)))}catch(a){throw dx("failed to parse JWT Header body as base64url encoded JSON",ez,a)}if(!dy(f))throw dx("JWT Header must be a top level object",eA,a);if(b(f),void 0!==f.crit)throw new dv('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(dt(du(i)))}catch(a){throw dx("failed to parse JWT Payload body as base64url encoded JSON",ez,a)}if(!dy(g))throw dx("JWT Payload must be a top level object",eA,a);let k=dM()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw dx('unexpected JWT "exp" (expiration time) claim type',eA,{claims:g});if(g.exp<=k-d)throw dx('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',eF,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw dx('unexpected JWT "iat" (issued at) claim type',eA,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw dx('unexpected JWT "iss" (issuer) claim type',eA,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw dx('unexpected JWT "nbf" (not before) claim type',eA,{claims:g});if(g.nbf>k+d)throw dx('unexpected JWT "nbf" (not before) claim value',eF,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw dx('unexpected JWT "aud" (audience) claim type',eA,{claims:g});return{header:f,claims:g,jwt:a}}function eN(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw dx('unexpected JWT "alg" header parameter',eA,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw dx('unexpected JWT "alg" header parameter',eA,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw dx('unexpected JWT "alg" header parameter',eA,{header:d,expected:c,reason:"default value"});return}throw dx('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function eO(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw dx(`"${b}" parameter must be provided only once`,eA);return c}let eP=Symbol(),eQ=Symbol();async function eR(a,b=dH){let c;try{c=await a.json()}catch(c){throw b(a),dx('failed to parse "response" body as JSON',ez,c)}if(!dy(c))throw dx('"response" body must be a top level object',eA,{body:c});return c}let eS=Symbol(),eT=Symbol();async function eU(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:900,expires:g});let h=await bT({...c.jwt,maxAge:900,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function eV(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new D(`${a} cookie was missing`);let g=await bU({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new D(`${a} value could not be parsed`,{cause:b})}}function eW(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function eX(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await eV(b,h,e);return eW(b,e,d),i}}let eY={async create(a){let b=dI(),c=await dJ(b);return{cookie:await eU("pkceCodeVerifier",b,a),value:c}},use:eX("pkce","pkceCodeVerifier")},eZ="encodedState",e$={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new D("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:dI()},e=await bT({secret:a.jwt.secret,token:d,salt:eZ,maxAge:900});return{cookie:await eU("state",e,a),value:e}},use:eX("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await bU({secret:b.jwt.secret,token:a,salt:eZ});if(c)return c;throw Error("Invalid state")}catch(a){throw new D("State could not be decoded",{cause:a})}}},e_={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=dI();return{cookie:await eU("nonce",b,a),value:b}},use:eX("nonce","nonce")},e0="encodedWebauthnChallenge",e1={create:async(a,b,c)=>({cookie:await eU("webauthnChallenge",await bT({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:e0,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await eV("webauthnChallenge",d,a),f=await bU({secret:a.jwt.secret,token:e,salt:e0});if(eW("webauthnChallenge",a,c),!f)throw new D("WebAuthn challenge was missing");return f}};function e2(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function e3(a,b,c){let d,e,f,{logger:g,provider:h}=c,{token:i,userinfo:j}=h;if(i?.url&&"authjs.dev"!==i.url.host||j?.url&&"authjs.dev"!==j.url.host)d={issuer:h.issuer??"https://authjs.dev",token_endpoint:i?.url.toString(),userinfo_endpoint:j?.url.toString()};else{let a=new URL(h.issuer),b=await dD(a,{[dk]:!0,[dn]:h[cb]});if(!(d=await dG(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!d.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let k={client_id:h.clientId,...h.client};switch(k.token_endpoint_auth_method){case void 0:case"client_secret_basic":e=(a,b,c,d)=>{d.set("authorization",function(a,b){let c=e2(a),d=e2(b),e=btoa(`${c}:${d}`);return`Basic ${e}`}(h.clientId,h.clientSecret))};break;case"client_secret_post":var l;dF(l=h.clientSecret,'"clientSecret"'),e=(a,b,c,d)=>{c.set("client_id",b.client_id),c.set("client_secret",l)};break;case"client_secret_jwt":e=function(a,b){let c;dF(a,'"clientSecret"');let d=void 0;return async(b,e,f,g)=>{c||=await crypto.subtle.importKey("raw",dt(a),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let h={alg:"HS256"},i=dP(b,e);d?.(h,i);let j=`${du(dt(JSON.stringify(h)))}.${du(dt(JSON.stringify(i)))}`,k=await crypto.subtle.sign(c.algorithm,c,dt(j));f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",`${j}.${du(new Uint8Array(k))}`)}}(h.clientSecret);break;case"private_key_jwt":e=function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&dF(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw dj(`${e} must be a CryptoKey`,di);if("private"!==c.type)throw dj(`${e} must be a private CryptoKey`,dh);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new dv("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new dv("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new dv("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new dv("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=dP(a,e);b?.[dp]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await dQ(h,i,c))}}(h.token.clientPrivateKey,{[dp](a,b){b.aud=[d.issuer,d.token_endpoint]}});break;case"none":e=(a,b,c,d)=>{c.set("client_id",b.client_id)};break;default:throw Error("unsupported client authentication method")}let m=[],n=await e$.use(b,m,c);try{f=function(a,b,c,d){var e;if(dN(a),dO(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw dj('"parameters" must be an instance of URLSearchParams, or URL',di);if(eO(c,"response"))throw dx('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',eA,{parameters:c});let f=eO(c,"iss"),g=eO(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw dx('response parameter "iss" (issuer) missing',eA,{parameters:c});if(f&&f!==a.issuer)throw dx('unexpected "iss" (issuer) response parameter value',eA,{expected:a.issuer,parameters:c});switch(d){case void 0:case eQ:if(void 0!==g)throw dx('unexpected "state" response parameter encountered',eA,{expected:void 0,parameters:c});break;case eP:break;default:if(dF(d,'"expectedState" argument'),g!==d)throw dx(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',eA,{expected:d,parameters:c})}if(eO(c,"error"))throw new dW("authorization response from the server is an error",{cause:c});let h=eO(c,"id_token"),i=eO(c,"token");if(void 0!==h||void 0!==i)throw new dv("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),ek.add(e),e}(d,k,new URLSearchParams(a),h.checks.includes("state")?n:eP)}catch(a){if(a instanceof dW){let b={providerId:h.id,...Object.fromEntries(a.cause.entries())};throw g.debug("OAuthCallbackError",b),new K("OAuth Provider returned an error",b)}throw a}let o=await eY.use(b,m,c),p=h.callbackUrl;!c.isOnRedirectProxy&&h.redirectProxyUrl&&(p=h.redirectProxyUrl);let q=await em(d,k,e,f,p,o??"decoy",{[dk]:!0,[dn]:(...a)=>(h.checks.includes("pkce")||a[1].body.delete("code_verifier"),(h[cb]??fetch)(...a))});h.token?.conform&&(q=await h.token.conform(q.clone())??q);let r={},s="oidc"===h.type;if(h[cc])switch(h.id){case"microsoft-entra-id":case"azure-ad":{let{tid:a}=function(a){let b,c;if("string"!=typeof a)throw new aG("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new aG("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new aG("Invalid JWT");if(!d)throw new aG("JWTs must contain a payload");try{b=ay(d)}catch{throw new aG("Failed to base64url decode the payload")}try{c=JSON.parse(aq.decode(b))}catch{throw new aG("Failed to parse the decoded payload as JSON")}if(!aJ(c))throw new aG("Invalid JWT Claims Set");return c}((await q.clone().json()).id_token);if("string"==typeof a){let b=d.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(d.issuer.replace(b,a)),e=await dD(c,{[dn]:h[cb]});d=await dG(c,e)}}}let t=await er(d,k,q,{expectedNonce:await e_.use(b,m,c),requireIdToken:s});if(s){let b=ed(t);if(r=b,h[cc]&&"apple"===h.id)try{r.user=JSON.parse(a?.user)}catch{}if(!1===h.idToken){let a=await d5(d,k,t.access_token,{[dn]:h[cb],[dk]:!0});r=await d8(d,k,b.sub,a)}}else if(j?.request){let a=await j.request({tokens:t,provider:h});a instanceof Object&&(r=a)}else if(j?.url){let a=await d5(d,k,t.access_token,{[dn]:h[cb]});r=await a.json()}else throw TypeError("No userinfo endpoint configured");return t.expires_in&&(t.expires_at=Math.floor(Date.now()/1e3)+Number(t.expires_in)),{...await e4(r,h,t,g),profile:r,cookies:m}}async function e4(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new L(c,{provider:b.id}))}}async function e5(a,b,c,d){let e=await fa(a,b,c),{cookie:f}=await e1.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function e6(a,b,c,d){let e=await e9(a,b,c),{cookie:f}=await e1.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function e7(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new t("Invalid WebAuthn Authentication response");let h=fd(fc(g.id)),i=await e.getAuthenticator(h);if(!i)throw new t(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await e1.use(a,b.cookies,c);try{var k;let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:{...k=i,credentialDeviceType:k.credentialDeviceType,transports:fe(k.transports),credentialID:fc(k.credentialID),credentialPublicKey:fc(k.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new Z(a)}let{verified:l,authenticationInfo:m}=d;if(!l)throw new Z("WebAuthn authentication response could not be verified");try{let{newCounter:a}=m;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new v(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:m.newCounter})}`,a)}let n=await e.getAccount(i.providerAccountId,f.id);if(!n)throw new t(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let o=await e.getUser(n.userId);if(!o)throw new t(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:n.userId})}`);return{account:n,user:o}}async function e8(a,b,c){var d;let e,{provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new t("Invalid WebAuthn Registration response");let{challenge:h,registerData:i}=await e1.use(a,b.cookies,c);if(!i)throw new t("Missing user registration data in WebAuthn challenge cookie");try{let c=f.getRelayingParty(a,b);e=await f.simpleWebAuthn.verifyRegistrationResponse({...f.verifyRegistrationOptions,expectedChallenge:h,response:g,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new Z(a)}if(!e.verified||!e.registrationInfo)throw new Z("WebAuthn registration response could not be verified");let j={providerAccountId:fd(e.registrationInfo.credentialID),provider:a.provider.id,type:f.type},k={providerAccountId:j.providerAccountId,counter:e.registrationInfo.counter,credentialID:fd(e.registrationInfo.credentialID),credentialPublicKey:fd(e.registrationInfo.credentialPublicKey),credentialBackedUp:e.registrationInfo.credentialBackedUp,credentialDeviceType:e.registrationInfo.credentialDeviceType,transports:(d=g.response.transports,d?.join(","))};return{user:i,account:j,authenticator:k}}async function e9(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:fc(a.credentialID),type:"public-key",transports:fe(a.transports)}))})}async function fa(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=b4(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:fc(a.credentialID),type:"public-key",transports:fe(a.transports)}))})}function fb(a){let{provider:b,adapter:c}=a;if(!c)throw new F("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new S("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function fc(a){return new Uint8Array(Buffer.from(a,"base64"))}function fd(a){return Buffer.from(a).toString("base64")}function fe(a){return a?a.split(","):void 0}async function ff(a,b,c,d){if(!b.provider)throw new S("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:k,callbackUrl:l,pages:m,jwt:n,events:o,callbacks:p,session:{strategy:q,maxAge:r},logger:s}=b,u="jwt"===q;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await e$.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return s.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let q=await e3(h,a.cookies,b);q.cookies.length&&d.push(...q.cookies),s.debug("authorization result",q);let{user:t,account:v,profile:w}=q;if(!t||!v||!w)return{redirect:`${k}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:v.providerAccountId,provider:i.id})}let x=await fg({user:g??t,account:v,profile:w},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await df(c.value,t,v,b);if(u){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await p.jwt({token:a,user:y,account:v,profile:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await o.signIn?.({user:y,account:v,profile:w,isNewUser:A}),A&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await b3(`${a}${g}`)}),k=!!h,q=k&&h.expires.valueOf()<Date.now();if(!k||q||f&&h.identifier!==f)throw new U({hasInvite:k,expired:q});let{identifier:s}=h,t=await j.getUserByEmail(s)??{id:crypto.randomUUID(),email:s,emailVerified:null},v={providerAccountId:t.email,userId:t.id,type:"email",provider:i.id},w=await fg({user:t,account:v},b);if(w)return{redirect:w,cookies:d};let{user:x,session:y,isNewUser:z}=await df(c.value,t,v,b);if(u){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await p.jwt({token:a,user:x,account:v,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await o.signIn?.({user:x,account:v,isNewUser:z}),z&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>k.searchParams.set(a,b));let j=await i.authorize(a,new Request(k,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new B;let m={providerAccountId:j.id,type:"credentials",provider:i.id},q=await fg({user:j,account:m,credentials:a},b);if(q)return{redirect:q,cookies:d};let s={name:j.name,email:j.email,picture:j.image,sub:j.id},t=await p.jwt({token:s,user:j,account:m,isNewUser:!1,trigger:"signIn"});if(null===t)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await n.encode({...n,token:t,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*r);let g=c.chunk(e,{expires:f});d.push(...g)}return await o.signIn?.({user:j,account:m}),{redirect:l,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new t("Invalid action parameter");let i=fb(b);switch(h){case"authenticate":{let b=await e7(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await e8(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await fg({user:e,account:f},b);let{user:j,isNewUser:k,session:q,account:s}=await df(c.value,e,f,b);if(!s)throw new t("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),u){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await p.jwt({token:a,user:j,account:s,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:q.sessionToken,options:{...b.cookies.sessionToken.options,expires:q.expires}});if(await o.signIn?.({user:j,account:s,isNewUser:k}),k&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}throw new S(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof t)throw b;let a=new x(b,{provider:i.id});throw s.debug("callback route error details",{method:g,query:e,body:f}),a}}async function fg(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof t)throw a;throw new w(a)}if(!c)throw new w("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function fh(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json"},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=de(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new E(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=de(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new M(a))}return m}async function fi(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await dD(a,{[dn]:f[cb],[dk]:!0}),c=await dG(a,b);if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await e$.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await eY.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await e_.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function fj(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new w(a)}if(!c)throw new w("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,n=await e.generateVerificationToken?.()??b4(32),o=new Date(Date.now()+(e.maxAge??86400)*1e3),p=e.secret??b.secret,q=new URL(b.basePath,b.url.origin),r=e.sendVerificationRequest({identifier:h,token:n,expires:o,url:`${q}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:n,email:h})}`,provider:e,theme:m,request:new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}),s=g.createVerificationToken?.({identifier:h,token:await b3(`${n}${p}`),expires:o});return await Promise.all([r,s]),{redirect:`${q}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}async function fk(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await fi(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await fj(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function fl(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new P(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function fm(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function fn(a,b,c,d){let e=fb(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await fm(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(function(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}(g,!!h,i)){case"authenticate":return e6(e,a,j,d);case"register":if("string"==typeof j?.email)return e5(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function fo(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===b9,{options:h,cookies:i}=await ci({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),j=new s(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=dd({...h,query:a.query,cookies:i});switch(c){case"callback":return await ff(a,h,j,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await fh(h,j,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await fn(a,h,j,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&b6(c,b),await ff(a,h,j,i);case"session":return b6(c,b),await fh(h,j,i,!0,a.body?.data);case"signin":return b6(c,b),await fk(a,i,h);case"signout":return b6(c,b),await fl(i,j,h)}}throw new Q(`Cannot handle action: ${c}`)}function fp(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&b$(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function fq(a,b){let c=b$(b),d=await b1(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=function(a,b){let{url:c}=a,d=[];if(!aa&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new T(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new I("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!ab(e,c.origin))return new A(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=r(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!ab(g,c.origin))return new A(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new C(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)ac=!0;else if("email"===b.type)ad=!0;else if("webauthn"===b.type){var i;if(ae=!0,b.simpleWebAuthnBrowserVersion&&(i=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(i)))return new t(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new X("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new Y(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(ac){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new R("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new H("Must define an authorize() handler to use credentials authentication provider")}let{adapter:j,session:k}=b,l=[];if(ad||k?.strategy==="database"||!k?.strategy&&j)if(ad){if(!j)return new F("Email login requires an adapter");l.push(...af)}else{if(!j)return new F("Database session requires an adapter");l.push(...ag)}if(ae){if(!b.experimental?.enableWebAuthn)return new _("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!j)return new F("WebAuthn requires an adapter");l.push(...ah)}if(j){let a=l.filter(a=>!(a in j));if(a.length)return new G(`Required adapter methods were missing: ${a.join(", ")}`)}return aa||(aa=!0),d}(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new y(`The error page ${a?.error} should not require authentication`)),b2(dd({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===ca;try{let a=await fo(d,b);if(g)return a;let c=b2(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(l){c.error(l);let e=l instanceof t;if(e&&g&&!f)throw l;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let h=new URLSearchParams({error:l instanceof t&&W.has(l.type)?l.type:"Configuration"});l instanceof B&&h.set("code",l.code);let i=e&&l.kind||"error",j=b.pages?.[i]??`${b.basePath}/${i.toLowerCase()}`,k=`${d.url.origin}${j}?${h}`;if(f)return Response.json({url:k});return Response.redirect(k)}}var fr=c(6784);function fs(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new fr.NextRequest(d.replace(e,c),a)}function ft(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),function(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||b$(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}(process.env,a,!0)}}var fu=c(8912),fv=c(8289);async function fw(a,b){return fq(new Request(fp("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function fx(a){return"function"==typeof a}function fy(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await (0,fv.b)(),d=await a(void 0);return b?.(d),fw(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),fz([d,e],f)}if(fx(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),fz(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),fw(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve((0,fv.b)()).then(b=>fw(b,a).then(a=>a.json()));if(b[0]instanceof Request)return fz([b[0],b[1]],a);if(fx(b[0])){let c=b[0];return async(...b)=>fz(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return fw(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function fz(a,b,c){let d=fs(a[0]),e=await fw(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=fr.NextResponse.next?.();if(g instanceof Response){h=g;let a=g.headers.get("Location"),{pathname:c}=d.nextUrl;a&&function(a,b,c){let d=b.replace(`${a}/`,""),e=Object.values(c.pages??{});return(fA.has(d)||e.includes(b))&&b===a}(c,new URL(a).pathname,b)&&(g=!0)}else if(c)d.auth=f,h=await c(d,a[1])??fr.NextResponse.next();else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=fr.NextResponse.redirect(b)}}let i=new Response(h?.body,h);for(let a of e.headers.getSetCookie())i.headers.append("set-cookie",a);return i}c(2682);let fA=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var fB=c(1551);async function fC(a,b={},c,d){let e=new Headers(await (0,fv.b)()),{redirect:f=!0,redirectTo:g,...h}=b instanceof FormData?Object.fromEntries(b):b,i=g?.toString()??e.get("Referer")??"/",j=fp("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return j.searchParams.append("callbackUrl",i),f&&(0,fB.redirect)(j.toString()),j.toString();let k=`${j}/${a}?${new URLSearchParams(c)}`,l={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){l={id:e,type:c?.type??d.type};break}}if(!l.id){let a=`${j}?${new URLSearchParams({callbackUrl:i})}`;return f&&(0,fB.redirect)(a),a}"credentials"===l.type&&(k=k.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let m=new Request(k,{method:"POST",headers:e,body:new URLSearchParams({...h,callbackUrl:i})}),n=await fq(m,{...d,raw:ca,skipCSRFCheck:b9}),o=await (0,fu.U)();for(let a of n?.cookies??[])o.set(a.name,a.value,a.options);let p=(n instanceof Response?n.headers.get("Location"):n.redirect)??k;return f?(0,fB.redirect)(p):p}async function fD(a,b){let c=new Headers(await (0,fv.b)());c.set("Content-Type","application/x-www-form-urlencoded");let d=fp("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),f=new Request(d,{method:"POST",headers:c,body:e}),g=await fq(f,{...b,raw:ca,skipCSRFCheck:b9}),h=await (0,fu.U)();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return a?.redirect??!0?(0,fB.redirect)(g.redirect):g}async function fE(a,b){let c=new Headers(await (0,fv.b)());c.set("Content-Type","application/json");let d=new Request(fp("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await fq(d,{...b,raw:ca,skipCSRFCheck:b9}),f=await (0,fu.U)();for(let a of e?.cookies??[])f.set(a.name,a.value,a.options);return e.body}var fF=c(1709);function fG(a,b){if("number"!=typeof(a=a||fM))throw Error("Illegal arguments: "+typeof a+", "+typeof b);a<4?a=4:a>31&&(a=31);var c=[];return c.push("$2b$"),a<10&&c.push("0"),c.push(a.toString()),c.push("$"),c.push(fK(function(a){try{return crypto.getRandomValues(new Uint8Array(a))}catch{}try{return ai.randomBytes(a)}catch{}!0;throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}(fL),fL)),c.join("")}var fH="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,fI="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),fJ=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function fK(a,b){var c,d,e=0,f=[];if(b<=0||b>a.length)throw Error("Illegal len: "+b);for(;e<b;){if(c=255&a[e++],f.push(fI[c>>2&63]),c=(3&c)<<4,e>=b||(c|=(d=255&a[e++])>>4&15,f.push(fI[63&c]),c=(15&d)<<2,e>=b)){f.push(fI[63&c]);break}c|=(d=255&a[e++])>>6&3,f.push(fI[63&c]),f.push(fI[63&d])}return f.join("")}var fL=16,fM=10,fN=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],fO=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],fP=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function fQ(a,b,c,d){var e=a[b],f=a[b+1];return e^=c[0],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[1],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[2],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[3],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[4],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[5],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[6],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[7],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[8],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[9],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[10],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[11],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[12],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[13],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[14],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[15],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[16],a[b]=f^c[17],a[b+1]=e,a}function fR(a,b){for(var c=0,d=0;c<4;++c)d=d<<8|255&a[b],b=(b+1)%a.length;return{key:d,offp:b}}function fS(a,b,c){for(var d,e=0,f=[0,0],g=b.length,h=c.length,i=0;i<g;i++)e=(d=fR(a,e)).offp,b[i]=b[i]^d.key;for(i=0;i<g;i+=2)f=fQ(f,0,b,c),b[i]=f[0],b[i+1]=f[1];for(i=0;i<h;i+=2)f=fQ(f,0,b,c),c[i]=f[0],c[i+1]=f[1]}function fT(a,b,c,d,e){var f,g,h=fP.slice(),i=h.length;if(c<4||c>31){if(g=Error("Illegal number of rounds (4-31): "+c),d)return void fH(d.bind(this,g));throw g}if(b.length!==fL){if(g=Error("Illegal salt length: "+b.length+" != "+fL),d)return void fH(d.bind(this,g));throw g}c=1<<c>>>0;var j,k,l,m=0;function n(){if(e&&e(m/c),m<c)for(var f=Date.now();m<c&&(m+=1,fS(a,j,k),fS(b,j,k),!(Date.now()-f>100)););else{for(m=0;m<64;m++)for(l=0;l<i>>1;l++)fQ(h,l<<1,j,k);var g=[];for(m=0;m<i;m++)g.push((h[m]>>24&255)>>>0),g.push((h[m]>>16&255)>>>0),g.push((h[m]>>8&255)>>>0),g.push((255&h[m])>>>0);return d?void d(null,g):g}d&&fH(n)}if("function"==typeof Int32Array?(j=new Int32Array(fN),k=new Int32Array(fO)):(j=fN.slice(),k=fO.slice()),!function(a,b,c,d){for(var e,f=0,g=[0,0],h=c.length,i=d.length,j=0;j<h;j++)f=(e=fR(b,f)).offp,c[j]=c[j]^e.key;for(j=0,f=0;j<h;j+=2)f=(e=fR(a,f)).offp,g[0]^=e.key,f=(e=fR(a,f)).offp,g[1]^=e.key,g=fQ(g,0,c,d),c[j]=g[0],c[j+1]=g[1];for(j=0;j<i;j+=2)f=(e=fR(a,f)).offp,g[0]^=e.key,f=(e=fR(a,f)).offp,g[1]^=e.key,g=fQ(g,0,c,d),d[j]=g[0],d[j+1]=g[1]}(b,a,j,k),void 0!==d)n();else for(;;)if(void 0!==(f=n()))return f||[]}function fU(a,b,c,d){if("string"!=typeof a||"string"!=typeof b){if(e=Error("Invalid string / salt: Not a string"),c)return void fH(c.bind(this,e));throw e}if("$"!==b.charAt(0)||"2"!==b.charAt(1)){if(e=Error("Invalid salt version: "+b.substring(0,2)),c)return void fH(c.bind(this,e));throw e}if("$"===b.charAt(2))f="\0",g=3;else{if("a"!==(f=b.charAt(2))&&"b"!==f&&"y"!==f||"$"!==b.charAt(3)){if(e=Error("Invalid salt revision: "+b.substring(2,4)),c)return void fH(c.bind(this,e));throw e}g=4}if(b.charAt(g+2)>"$"){if(e=Error("Missing salt rounds"),c)return void fH(c.bind(this,e));throw e}var e,f,g,h=10*parseInt(b.substring(g,g+1),10)+parseInt(b.substring(g+1,g+2),10),i=b.substring(g+3,g+25),j=function(a){for(var b,c,d=0,e=Array(function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b}(a)),f=0,g=a.length;f<g;++f)(b=a.charCodeAt(f))<128?e[d++]=b:(b<2048?e[d++]=b>>6|192:((64512&b)==55296&&(64512&(c=a.charCodeAt(f+1)))==56320?(b=65536+((1023&b)<<10)+(1023&c),++f,e[d++]=b>>18|240,e[d++]=b>>12&63|128):e[d++]=b>>12|224,e[d++]=b>>6&63|128),e[d++]=63&b|128);return e}(a+=f>="a"?"\0":""),k=function(a,b){var c,d,e,f,g,h=0,i=a.length,j=0,k=[];if(b<=0)throw Error("Illegal len: "+b);for(;h<i-1&&j<b&&(c=(g=a.charCodeAt(h++))<fJ.length?fJ[g]:-1,d=(g=a.charCodeAt(h++))<fJ.length?fJ[g]:-1,-1!=c&&-1!=d)&&(f=c<<2>>>0|(48&d)>>4,k.push(String.fromCharCode(f)),!(++j>=b||h>=i||-1==(e=(g=a.charCodeAt(h++))<fJ.length?fJ[g]:-1)||(f=(15&d)<<4>>>0|(60&e)>>2,k.push(String.fromCharCode(f)),++j>=b||h>=i)));){;f=(3&e)<<6>>>0|((g=a.charCodeAt(h++))<fJ.length?fJ[g]:-1),k.push(String.fromCharCode(f)),++j}var l=[];for(h=0;h<j;h++)l.push(k[h].charCodeAt(0));return l}(i,fL);function l(a){var b=[];return b.push("$2"),f>="a"&&b.push(f),b.push("$"),h<10&&b.push("0"),b.push(h.toString()),b.push("$"),b.push(fK(k,k.length)),b.push(fK(a,4*fP.length-1)),b.join("")}if(void 0===c)return l(fT(j,k,h));fT(j,k,h,function(a,b){a?c(a,null):c(null,l(b))},d)}let fV={compare:function(a,b,c,d){function e(c){return"string"!=typeof a||"string"!=typeof b?void fH(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b))):60!==b.length?void fH(c.bind(this,null,!1)):void function(a,b,c,d){function e(c){"string"==typeof a&&"number"==typeof b?function(a,b,c){if("function"==typeof b&&(c=b,b=void 0),"function"==typeof a&&(c=a,a=void 0),void 0===a)a=fM;else if("number"!=typeof a)throw Error("illegal arguments: "+typeof a);function d(b){fH(function(){try{b(null,fG(a))}catch(a){b(a)}})}if(!c)return new Promise(function(a,b){d(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);d(c)}(b,function(b,e){fU(a,e,c,d)}):"string"==typeof a&&"string"==typeof b?fU(a,b,c,d):fH(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b)))}if(!c)return new Promise(function(a,b){e(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);e(c)}(a,b.substring(0,29),function(a,d){a?c(a):c(null,function(a,b){for(var c=a.length^b.length,d=0;d<a.length;++d)c|=a.charCodeAt(d)^b.charCodeAt(d);return 0===c}(d,b))},d)}if(!c)return new Promise(function(a,b){e(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);e(c)}},fW=require("@prisma/client");!function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(j||(j={})),(k||(k={})).mergeShapes=(a,b)=>({...a,...b});let fX=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fY=a=>{switch(typeof a){case"undefined":return fX.undefined;case"string":return fX.string;case"number":return Number.isNaN(a)?fX.nan:fX.number;case"boolean":return fX.boolean;case"function":return fX.function;case"bigint":return fX.bigint;case"symbol":return fX.symbol;case"object":if(Array.isArray(a))return fX.array;if(null===a)return fX.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return fX.promise;if("undefined"!=typeof Map&&a instanceof Map)return fX.map;if("undefined"!=typeof Set&&a instanceof Set)return fX.set;if("undefined"!=typeof Date&&a instanceof Date)return fX.date;return fX.object;default:return fX.unknown}},fZ=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class f$ extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof f$))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}f$.create=a=>new f$(a);let f_=(a,b)=>{let c;switch(a.code){case fZ.invalid_type:c=a.received===fX.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case fZ.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,j.jsonStringifyReplacer)}`;break;case fZ.unrecognized_keys:c=`Unrecognized key(s) in object: ${j.joinValues(a.keys,", ")}`;break;case fZ.invalid_union:c="Invalid input";break;case fZ.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${j.joinValues(a.options)}`;break;case fZ.invalid_enum_value:c=`Invalid enum value. Expected ${j.joinValues(a.options)}, received '${a.received}'`;break;case fZ.invalid_arguments:c="Invalid function arguments";break;case fZ.invalid_return_type:c="Invalid function return type";break;case fZ.invalid_date:c="Invalid date";break;case fZ.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:j.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case fZ.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case fZ.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case fZ.custom:c="Invalid input";break;case fZ.invalid_intersection_types:c="Intersection results could not be merged";break;case fZ.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case fZ.not_finite:c="Number must be finite";break;default:c=b.defaultError,j.assertNever(a)}return{message:c}};!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(l||(l={}));let f0=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function f1(a,b){let c=f0({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,f_,void 0].filter(a=>!!a)});a.common.issues.push(c)}class f2{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return f3;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return f2.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return f3;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let f3=Object.freeze({status:"aborted"}),f4=a=>({status:"dirty",value:a}),f5=a=>({status:"valid",value:a}),f6=a=>"undefined"!=typeof Promise&&a instanceof Promise;class f7{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let f8=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new f$(a.common.issues);return this._error=b,this._error}}};function f9(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class ga{get description(){return this._def.description}_getType(a){return fY(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:fY(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new f2,ctx:{common:a.parent.common,data:a.data,parsedType:fY(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(f6(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:fY(a)},d=this._parseSync({data:a,path:c.path,parent:c});return f8(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:fY(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:fY(a)},d=this._parse({data:a,path:c.path,parent:c});return f8(c,await (f6(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:fZ.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new gV({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return gW.create(this,this._def)}nullable(){return gX.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gE.create(this)}promise(){return gU.create(this,this._def)}or(a){return gG.create([this,a],this._def)}and(a){return gJ.create(this,a,this._def)}transform(a){return new gV({...f9(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new gY({...f9(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:m.ZodDefault})}brand(){return new g_({typeName:m.ZodBranded,type:this,...f9(this._def)})}catch(a){return new gZ({...f9(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:m.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return g0.create(this,a)}readonly(){return g1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let gb=/^c[^\s-]{8,}$/i,gc=/^[0-9a-z]+$/,gd=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gf=/^[a-z0-9_-]{21}$/i,gg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gi=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,go=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gq=RegExp(`^${gp}$`);function gr(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class gs extends ga{_parse(a){var b,c,d,e;let f;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==fX.string){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.string,received:b.parsedType}),f3}let g=new f2;for(let h of this._def.checks)if("min"===h.kind)a.data.length<h.value&&(f1(f=this._getOrReturnCtx(a,f),{code:fZ.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),g.dirty());else if("max"===h.kind)a.data.length>h.value&&(f1(f=this._getOrReturnCtx(a,f),{code:fZ.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),g.dirty());else if("length"===h.kind){let b=a.data.length>h.value,c=a.data.length<h.value;(b||c)&&(f=this._getOrReturnCtx(a,f),b?f1(f,{code:fZ.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):c&&f1(f,{code:fZ.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),g.dirty())}else if("email"===h.kind)gi.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"email",code:fZ.invalid_string,message:h.message}),g.dirty());else if("emoji"===h.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"emoji",code:fZ.invalid_string,message:h.message}),g.dirty());else if("uuid"===h.kind)ge.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"uuid",code:fZ.invalid_string,message:h.message}),g.dirty());else if("nanoid"===h.kind)gf.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"nanoid",code:fZ.invalid_string,message:h.message}),g.dirty());else if("cuid"===h.kind)gb.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"cuid",code:fZ.invalid_string,message:h.message}),g.dirty());else if("cuid2"===h.kind)gc.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"cuid2",code:fZ.invalid_string,message:h.message}),g.dirty());else if("ulid"===h.kind)gd.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"ulid",code:fZ.invalid_string,message:h.message}),g.dirty());else if("url"===h.kind)try{new URL(a.data)}catch{f1(f=this._getOrReturnCtx(a,f),{validation:"url",code:fZ.invalid_string,message:h.message}),g.dirty()}else"regex"===h.kind?(h.regex.lastIndex=0,h.regex.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"regex",code:fZ.invalid_string,message:h.message}),g.dirty())):"trim"===h.kind?a.data=a.data.trim():"includes"===h.kind?a.data.includes(h.value,h.position)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),g.dirty()):"toLowerCase"===h.kind?a.data=a.data.toLowerCase():"toUpperCase"===h.kind?a.data=a.data.toUpperCase():"startsWith"===h.kind?a.data.startsWith(h.value)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:{startsWith:h.value},message:h.message}),g.dirty()):"endsWith"===h.kind?a.data.endsWith(h.value)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:{endsWith:h.value},message:h.message}),g.dirty()):"datetime"===h.kind?(function(a){let b=`${gp}T${gr(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(h).test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:"datetime",message:h.message}),g.dirty()):"date"===h.kind?gq.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:"date",message:h.message}),g.dirty()):"time"===h.kind?RegExp(`^${gr(h)}$`).test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{code:fZ.invalid_string,validation:"time",message:h.message}),g.dirty()):"duration"===h.kind?gh.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"duration",code:fZ.invalid_string,message:h.message}),g.dirty()):"ip"===h.kind?(b=a.data,!(("v4"===(c=h.version)||!c)&&gj.test(b)||("v6"===c||!c)&&gl.test(b))&&1&&(f1(f=this._getOrReturnCtx(a,f),{validation:"ip",code:fZ.invalid_string,message:h.message}),g.dirty())):"jwt"===h.kind?!function(a,b){if(!gg.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,h.alg)&&(f1(f=this._getOrReturnCtx(a,f),{validation:"jwt",code:fZ.invalid_string,message:h.message}),g.dirty()):"cidr"===h.kind?(d=a.data,!(("v4"===(e=h.version)||!e)&&gk.test(d)||("v6"===e||!e)&&gm.test(d))&&1&&(f1(f=this._getOrReturnCtx(a,f),{validation:"cidr",code:fZ.invalid_string,message:h.message}),g.dirty())):"base64"===h.kind?gn.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"base64",code:fZ.invalid_string,message:h.message}),g.dirty()):"base64url"===h.kind?go.test(a.data)||(f1(f=this._getOrReturnCtx(a,f),{validation:"base64url",code:fZ.invalid_string,message:h.message}),g.dirty()):j.assertNever(h);return{status:g.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:fZ.invalid_string,...l.errToObj(c)})}_addCheck(a){return new gs({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...l.errToObj(a)})}url(a){return this._addCheck({kind:"url",...l.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...l.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...l.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...l.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...l.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...l.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...l.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...l.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...l.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...l.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...l.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...l.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...l.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...l.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...l.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...l.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...l.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...l.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...l.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...l.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...l.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...l.errToObj(b)})}nonempty(a){return this.min(1,l.errToObj(a))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}gs.create=a=>new gs({checks:[],typeName:m.ZodString,coerce:a?.coerce??!1,...f9(a)});class gt extends ga{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==fX.number){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.number,received:b.parsedType}),f3}let c=new f2;for(let d of this._def.checks)"int"===d.kind?j.isInteger(a.data)||(f1(b=this._getOrReturnCtx(a,b),{code:fZ.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(f1(b=this._getOrReturnCtx(a,b),{code:fZ.not_finite,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new gt({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new gt({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:l.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:l.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&j.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}gt.create=a=>new gt({checks:[],typeName:m.ZodNumber,coerce:a?.coerce||!1,...f9(a)});class gu extends ga{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==fX.bigint)return this._getInvalidInput(a);let c=new f2;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.bigint,received:b.parsedType}),f3}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new gu({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new gu({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}gu.create=a=>new gu({checks:[],typeName:m.ZodBigInt,coerce:a?.coerce??!1,...f9(a)});class gv extends ga{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==fX.boolean){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.boolean,received:b.parsedType}),f3}return f5(a.data)}}gv.create=a=>new gv({typeName:m.ZodBoolean,coerce:a?.coerce||!1,...f9(a)});class gw extends ga{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==fX.date){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.date,received:b.parsedType}),f3}if(Number.isNaN(a.data.getTime()))return f1(this._getOrReturnCtx(a),{code:fZ.invalid_date}),f3;let c=new f2;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(f1(b=this._getOrReturnCtx(a,b),{code:fZ.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):j.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new gw({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:l.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:l.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}gw.create=a=>new gw({checks:[],coerce:a?.coerce||!1,typeName:m.ZodDate,...f9(a)});class gx extends ga{_parse(a){if(this._getType(a)!==fX.symbol){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.symbol,received:b.parsedType}),f3}return f5(a.data)}}gx.create=a=>new gx({typeName:m.ZodSymbol,...f9(a)});class gy extends ga{_parse(a){if(this._getType(a)!==fX.undefined){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.undefined,received:b.parsedType}),f3}return f5(a.data)}}gy.create=a=>new gy({typeName:m.ZodUndefined,...f9(a)});class gz extends ga{_parse(a){if(this._getType(a)!==fX.null){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.null,received:b.parsedType}),f3}return f5(a.data)}}gz.create=a=>new gz({typeName:m.ZodNull,...f9(a)});class gA extends ga{constructor(){super(...arguments),this._any=!0}_parse(a){return f5(a.data)}}gA.create=a=>new gA({typeName:m.ZodAny,...f9(a)});class gB extends ga{constructor(){super(...arguments),this._unknown=!0}_parse(a){return f5(a.data)}}gB.create=a=>new gB({typeName:m.ZodUnknown,...f9(a)});class gC extends ga{_parse(a){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.never,received:b.parsedType}),f3}}gC.create=a=>new gC({typeName:m.ZodNever,...f9(a)});class gD extends ga{_parse(a){if(this._getType(a)!==fX.undefined){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.void,received:b.parsedType}),f3}return f5(a.data)}}gD.create=a=>new gD({typeName:m.ZodVoid,...f9(a)});class gE extends ga{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==fX.array)return f1(b,{code:fZ.invalid_type,expected:fX.array,received:b.parsedType}),f3;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(f1(b,{code:a?fZ.too_big:fZ.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(f1(b,{code:fZ.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(f1(b,{code:fZ.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new f7(b,a,b.path,c)))).then(a=>f2.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new f7(b,a,b.path,c)));return f2.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new gE({...this._def,minLength:{value:a,message:l.toString(b)}})}max(a,b){return new gE({...this._def,maxLength:{value:a,message:l.toString(b)}})}length(a,b){return new gE({...this._def,exactLength:{value:a,message:l.toString(b)}})}nonempty(a){return this.min(1,a)}}gE.create=(a,b)=>new gE({type:a,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...f9(b)});class gF extends ga{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=j.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==fX.object){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.object,received:b.parsedType}),f3}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof gC&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new f7(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof gC){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(f1(c,{code:fZ.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new f7(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>f2.mergeObjectSync(b,a)):f2.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return l.errToObj,new gF({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:l.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new gF({...this._def,unknownKeys:"strip"})}passthrough(){return new gF({...this._def,unknownKeys:"passthrough"})}extend(a){return new gF({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new gF({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:m.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new gF({...this._def,catchall:a})}pick(a){let b={};for(let c of j.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new gF({...this._def,shape:()=>b})}omit(a){let b={};for(let c of j.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new gF({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof gF){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=gW.create(a(e))}return new gF({...b._def,shape:()=>c})}if(b instanceof gE)return new gE({...b._def,type:a(b.element)});if(b instanceof gW)return gW.create(a(b.unwrap()));if(b instanceof gX)return gX.create(a(b.unwrap()));if(b instanceof gK)return gK.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of j.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new gF({...this._def,shape:()=>b})}required(a){let b={};for(let c of j.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof gW;)a=a._def.innerType;b[c]=a}return new gF({...this._def,shape:()=>b})}keyof(){return gR(j.objectKeys(this.shape))}}gF.create=(a,b)=>new gF({shape:()=>a,unknownKeys:"strip",catchall:gC.create(),typeName:m.ZodObject,...f9(b)}),gF.strictCreate=(a,b)=>new gF({shape:()=>a,unknownKeys:"strict",catchall:gC.create(),typeName:m.ZodObject,...f9(b)}),gF.lazycreate=(a,b)=>new gF({shape:a,unknownKeys:"strip",catchall:gC.create(),typeName:m.ZodObject,...f9(b)});class gG extends ga{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new f$(a.ctx.common.issues));return f1(b,{code:fZ.invalid_union,unionErrors:c}),f3});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new f$(a));return f1(b,{code:fZ.invalid_union,unionErrors:e}),f3}}get options(){return this._def.options}}gG.create=(a,b)=>new gG({options:a,typeName:m.ZodUnion,...f9(b)});let gH=a=>{if(a instanceof gP)return gH(a.schema);if(a instanceof gV)return gH(a.innerType());if(a instanceof gQ)return[a.value];if(a instanceof gS)return a.options;if(a instanceof gT)return j.objectValues(a.enum);else if(a instanceof gY)return gH(a._def.innerType);else if(a instanceof gy)return[void 0];else if(a instanceof gz)return[null];else if(a instanceof gW)return[void 0,...gH(a.unwrap())];else if(a instanceof gX)return[null,...gH(a.unwrap())];else if(a instanceof g_)return gH(a.unwrap());else if(a instanceof g1)return gH(a.unwrap());else if(a instanceof gZ)return gH(a._def.innerType);else return[]};class gI extends ga{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==fX.object)return f1(b,{code:fZ.invalid_type,expected:fX.object,received:b.parsedType}),f3;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(f1(b,{code:fZ.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),f3)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=gH(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new gI({typeName:m.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...f9(c)})}}class gJ extends ga{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if("aborted"===a.status||"aborted"===d.status)return f3;let e=function a(b,c){let d=fY(b),e=fY(c);if(b===c)return{valid:!0,data:b};if(d===fX.object&&e===fX.object){let d=j.objectKeys(c),e=j.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===fX.array&&e===fX.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===fX.date&&e===fX.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(("dirty"===a.status||"dirty"===d.status)&&b.dirty(),{status:b.value,value:e.data}):(f1(c,{code:fZ.invalid_intersection_types}),f3)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}gJ.create=(a,b,c)=>new gJ({left:a,right:b,typeName:m.ZodIntersection,...f9(c)});class gK extends ga{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==fX.array)return f1(c,{code:fZ.invalid_type,expected:fX.array,received:c.parsedType}),f3;if(c.data.length<this._def.items.length)return f1(c,{code:fZ.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f3;!this._def.rest&&c.data.length>this._def.items.length&&(f1(c,{code:fZ.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new f7(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>f2.mergeArray(b,a)):f2.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new gK({...this._def,rest:a})}}gK.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new gK({items:a,typeName:m.ZodTuple,rest:null,...f9(b)})};class gL extends ga{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==fX.object)return f1(c,{code:fZ.invalid_type,expected:fX.object,received:c.parsedType}),f3;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new f7(c,a,c.path,a)),value:f._parse(new f7(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?f2.mergeObjectAsync(b,d):f2.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new gL(b instanceof ga?{keyType:a,valueType:b,typeName:m.ZodRecord,...f9(c)}:{keyType:gs.create(),valueType:a,typeName:m.ZodRecord,...f9(b)})}}class gM extends ga{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==fX.map)return f1(c,{code:fZ.invalid_type,expected:fX.map,received:c.parsedType}),f3;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new f7(c,a,c.path,[f,"key"])),value:e._parse(new f7(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return f3;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return f3;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}gM.create=(a,b,c)=>new gM({valueType:b,keyType:a,typeName:m.ZodMap,...f9(c)});class gN extends ga{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==fX.set)return f1(c,{code:fZ.invalid_type,expected:fX.set,received:c.parsedType}),f3;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(f1(c,{code:fZ.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(f1(c,{code:fZ.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return f3;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new f7(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new gN({...this._def,minSize:{value:a,message:l.toString(b)}})}max(a,b){return new gN({...this._def,maxSize:{value:a,message:l.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}gN.create=(a,b)=>new gN({valueType:a,minSize:null,maxSize:null,typeName:m.ZodSet,...f9(b)});class gO extends ga{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==fX.function)return f1(b,{code:fZ.invalid_type,expected:fX.function,received:b.parsedType}),f3;function c(a,c){return f0({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,f_,f_].filter(a=>!!a),issueData:{code:fZ.invalid_arguments,argumentsError:c}})}function d(a,c){return f0({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,f_,f_].filter(a=>!!a),issueData:{code:fZ.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof gU){let a=this;return f5(async function(...b){let g=new f$([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return f5(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new f$([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new f$([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new gO({...this._def,args:gK.create(a).rest(gB.create())})}returns(a){return new gO({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new gO({args:a||gK.create([]).rest(gB.create()),returns:b||gB.create(),typeName:m.ZodFunction,...f9(c)})}}class gP extends ga{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}gP.create=(a,b)=>new gP({getter:a,typeName:m.ZodLazy,...f9(b)});class gQ extends ga{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return f1(b,{received:b.data,code:fZ.invalid_literal,expected:this._def.value}),f3}return{status:"valid",value:a.data}}get value(){return this._def.value}}function gR(a,b){return new gS({values:a,typeName:m.ZodEnum,...f9(b)})}gQ.create=(a,b)=>new gQ({value:a,typeName:m.ZodLiteral,...f9(b)});class gS extends ga{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return f1(b,{expected:j.joinValues(c),received:b.parsedType,code:fZ.invalid_type}),f3}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return f1(b,{received:b.data,code:fZ.invalid_enum_value,options:c}),f3}return f5(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return gS.create(a,{...this._def,...b})}exclude(a,b=this._def){return gS.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}gS.create=gR;class gT extends ga{_parse(a){let b=j.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==fX.string&&c.parsedType!==fX.number){let a=j.objectValues(b);return f1(c,{expected:j.joinValues(a),received:c.parsedType,code:fZ.invalid_type}),f3}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=j.objectValues(b);return f1(c,{received:c.data,code:fZ.invalid_enum_value,options:a}),f3}return f5(a.data)}get enum(){return this._def.values}}gT.create=(a,b)=>new gT({values:a,typeName:m.ZodNativeEnum,...f9(b)});class gU extends ga{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==fX.promise&&!1===b.common.async?(f1(b,{code:fZ.invalid_type,expected:fX.promise,received:b.parsedType}),f3):f5((b.parsedType===fX.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}gU.create=(a,b)=>new gU({type:a,typeName:m.ZodPromise,...f9(b)});class gV extends ga{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{f1(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return f3;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?f3:"dirty"===d.status||"dirty"===b.value?f4(d.value):d});{if("aborted"===b.value)return f3;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?f3:"dirty"===d.status||"dirty"===b.value?f4(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?f3:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?f3:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?f3:Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return f3;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}j.assertNever(d)}}gV.create=(a,b,c)=>new gV({schema:a,typeName:m.ZodEffects,effect:b,...f9(c)}),gV.createWithPreprocess=(a,b,c)=>new gV({schema:b,effect:{type:"preprocess",transform:a},typeName:m.ZodEffects,...f9(c)});class gW extends ga{_parse(a){return this._getType(a)===fX.undefined?f5(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}gW.create=(a,b)=>new gW({innerType:a,typeName:m.ZodOptional,...f9(b)});class gX extends ga{_parse(a){return this._getType(a)===fX.null?f5(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}gX.create=(a,b)=>new gX({innerType:a,typeName:m.ZodNullable,...f9(b)});class gY extends ga{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===fX.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}gY.create=(a,b)=>new gY({innerType:a,typeName:m.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...f9(b)});class gZ extends ga{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return f6(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new f$(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new f$(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}gZ.create=(a,b)=>new gZ({innerType:a,typeName:m.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...f9(b)});class g$ extends ga{_parse(a){if(this._getType(a)!==fX.nan){let b=this._getOrReturnCtx(a);return f1(b,{code:fZ.invalid_type,expected:fX.nan,received:b.parsedType}),f3}return{status:"valid",value:a.data}}}g$.create=a=>new g$({typeName:m.ZodNaN,...f9(a)}),Symbol("zod_brand");class g_ extends ga{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class g0 extends ga{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?f3:"dirty"===a.status?(b.dirty(),f4(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?f3:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new g0({in:a,out:b,typeName:m.ZodPipeline})}}class g1 extends ga{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return f6(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}g1.create=(a,b)=>new g1({innerType:a,typeName:m.ZodReadonly,...f9(b)}),gF.lazycreate,function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(m||(m={}));let g2=gs.create;gt.create,g$.create,gu.create,gv.create,gw.create,gx.create,gy.create,gz.create,gA.create,gB.create,gC.create,gD.create,gE.create,gF.create,gF.strictCreate,gG.create,gI.create,gJ.create,gK.create,gL.create,gM.create,gN.create,gO.create,gP.create,gQ.create;let g3=gS.create;gT.create,gU.create,gV.create,gW.create,gX.create,gV.createWithPreprocess,g0.create;let g4=function(a){let b="object"==typeof a.client?a.client:{},c="object"==typeof a.server?a.server:{},d=a.shared,e=a.runtimeEnv?a.runtimeEnv:{...process.env,...a.experimental__runtimeEnv};return function(a){let b=a.runtimeEnvStrict??a.runtimeEnv??process.env;if(a.emptyStringAsUndefined)for(let[a,c]of Object.entries(b))""===c&&delete b[a];if(a.skipValidation)return b;let c="object"==typeof a.client?a.client:{},d="object"==typeof a.server?a.server:{},e="object"==typeof a.shared?a.shared:{},f=a.isServer??("undefined"==typeof window||"Deno"in window),g=function(a,b){let c={},d=[];for(let e in a){let f=a[e],g=b[e],h=f["~standard"].validate(g);if(h instanceof Promise)throw Error(`Validation must be synchronous, but ${e} returned a Promise.`);if(h.issues){d.push(...h.issues.map(a=>({...a,path:[e,...a.path??[]]})));continue}c[e]=h.value}return d.length?{issues:d}:{value:c}}(f?{...d,...e,...c}:{...c,...e},b),h=a.onValidationError??(a=>{throw console.error("❌ Invalid environment variables:",a),Error("Invalid environment variables")}),i=a.onInvalidAccess??(()=>{throw Error("❌ Attempted to access a server-side environment variable on the client")});if(g.issues)return h(g.issues);let j=(a.extends??[]).reduce((a,b)=>Object.assign(a,b),{});return new Proxy(Object.assign(g.value,j),{get(b,c){if("string"==typeof c&&"__esModule"!==c&&"$$typeof"!==c)return f||a.clientPrefix&&(c.startsWith(a.clientPrefix)||c in e)?Reflect.get(b,c):i(c)}})}({...a,shared:d,client:b,server:c,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:e})}({server:{AUTH_SECRET:g2(),AUTH_DISCORD_ID:g2(),AUTH_DISCORD_SECRET:g2(),DATABASE_URL:g2().url(),NODE_ENV:g3(["development","test","production"]).default("development")},client:{},runtimeEnv:{AUTH_SECRET:process.env.AUTH_SECRET,AUTH_DISCORD_ID:process.env.AUTH_DISCORD_ID,AUTH_DISCORD_SECRET:process.env.AUTH_DISCORD_SECRET,DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production"},skipValidation:!!process.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0}),g5=globalThis,g6=g5.prisma??new fW.PrismaClient({log:"development"===g4.NODE_ENV?["query","error","warn"]:["error"]});"production"!==g4.NODE_ENV&&(g5.prisma=g6);let{auth:g7,handlers:g8,signIn:g9,signOut:ha}=function(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return ft(c),fq(fs(b),c)};return{handlers:{GET:b,POST:b},auth:fy(a,a=>ft(a)),signIn:async(b,c,d)=>{let e=await a(void 0);return ft(e),fC(b,c,d,e)},signOut:async b=>{let c=await a(void 0);return ft(c),fD(b,c)},unstable_update:async b=>{let c=await a(void 0);return ft(c),fE(b,c)}}}ft(a);let b=b=>fq(fs(b),a);return{handlers:{GET:b,POST:b},auth:fy(a),signIn:(b,c,d)=>fC(b,c,d,a),signOut:b=>fD(b,a),unstable_update:b=>fE(b,a)}}({providers:[{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a){if(!a?.email||!a?.password)return null;let b=await g6.user.findUnique({where:{email:a.email}});if(!b||!b.password||!await fV.compare(a.password,b.password))return null;let c="raymondetet@gmail.com"===b.email?"admin":"user";return await g6.user.update({where:{id:b.id},data:{lastOnlineAt:new Date,role:c}}),{id:b.id,email:b.email,name:b.name,image:b.image,role:c}}}}],callbacks:{session:({session:a,token:b})=>({...a,user:{...a.user,id:b.sub,role:b.role}}),jwt:({token:a,user:b})=>(b&&(a.role=b.role),a)},pages:{signIn:"/auth/signin"}}),hb=(0,fF.cache)(g7);var hc=c(9156),hd=c.n(hc);async function he(){let a=await hb();return(0,n.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-gradient-to-b from-[#2e026d] to-[#15162c] text-white",children:(0,n.jsxs)("div",{className:"container flex flex-col items-center justify-center gap-12 px-4 py-16",children:[(0,n.jsx)("div",{className:"absolute top-4 right-4",children:(0,n.jsx)(o.LoginButton,{})}),(0,n.jsxs)("h1",{className:"text-5xl font-extrabold tracking-tight text-white sm:text-[5rem]",children:["专业 ",(0,n.jsx)("span",{className:"text-[hsl(280,100%,70%)]",children:"交易"})," 员"]}),a?(0,n.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,n.jsxs)("div",{className:"rounded-lg bg-white/10 p-8 text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"欢迎回来！"}),a.user?.image&&(0,n.jsx)(hd(),{src:a.user.image,alt:"Profile",width:80,height:80,className:"mx-auto mb-4 rounded-full"}),(0,n.jsxs)("p",{className:"text-lg",children:["你好，",(0,n.jsx)("span",{className:"font-semibold",children:a.user?.name}),"！"]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300 mt-2",children:["邮箱：",a.user?.email]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300 mt-1",children:["用户ID：",a.user?.id]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 md:gap-16",children:[(0,n.jsxs)("a",{href:"/calculator/u-contract",className:"flex max-w-xs flex-col gap-8 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white hover:from-purple-600 hover:to-pink-600",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"\uD83D\uDCCA U本位合约计算器"}),(0,n.jsx)("div",{className:"text-lg",children:"专业的加密货币合约计算工具"})]}),(0,n.jsxs)("a",{href:"/astrology/ziwei",className:"flex max-w-xs flex-col gap-8 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 p-4 text-white hover:from-blue-600 hover:to-cyan-600",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"\uD83D\uDD2E 紫微斗数排盘"}),(0,n.jsx)("div",{className:"text-lg",children:"基于 iztro 2.5.3 的专业紫微排盘"})]}),(0,n.jsxs)("a",{href:"/profile",className:"flex max-w-xs flex-col gap-8 rounded-xl bg-white/10 p-4 text-white hover:bg-white/20",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"用户中心 →"}),(0,n.jsx)("div",{className:"text-lg",children:"管理您的账户信息和设置"})]})]})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,n.jsxs)("div",{className:"rounded-lg bg-white/10 p-8 text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"开始使用"}),(0,n.jsx)("p",{className:"text-lg mb-6",children:"请登录以体验完整的功能"}),(0,n.jsx)(o.LoginButton,{})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-8",children:[(0,n.jsxs)("a",{href:"/calculator/u-contract",className:"flex max-w-xs flex-col gap-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white hover:from-purple-600 hover:to-pink-600",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"\uD83D\uDCCA U本位合约计算器"}),(0,n.jsx)("div",{className:"text-lg",children:"专业的加密货币合约计算工具"})]}),(0,n.jsxs)("a",{href:"/astrology/ziwei",className:"flex max-w-xs flex-col gap-4 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 p-4 text-white hover:from-blue-600 hover:to-cyan-600",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"\uD83D\uDD2E 紫微斗数排盘"}),(0,n.jsx)("div",{className:"text-lg",children:"基于 iztro 2.5.3 的专业紫微排盘"})]})]})]})]})})}},8192:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.r(b),c.d(b,{_:()=>d})},8289:(a,b,c)=>{"use strict";Object.defineProperty(b,"b",{enumerable:!0,get:function(){return m}});let d=c(937),e=c(9294),f=c(3033),g=c(4980),h=c(5704),i=c(8905),j=c(8005),k=c(9974),l=c(4396);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(b.forceStatic)return o(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":case"prerender-runtime":var j=b,p=c;let e=n.get(p);if(e)return e;let f=(0,i.makeHangingPromise)(p.renderSignal,j.route,"`headers()`");return n.set(p,f),f;case"prerender-client":let q="`headers`";throw Object.defineProperty(new l.InvariantError(`${q} must not be used within a client component. Next.js should be preventing ${q} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),o(c.headers)}}(0,f.throwForMissingRequestStore)(a)}c(262);let n=new WeakMap;function o(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),Object.defineProperties(c,{append:{value:a.append.bind(a)},delete:{value:a.delete.bind(a)},get:{value:a.get.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},getSetCookie:{value:a.getSetCookie.bind(a)},forEach:{value:a.forEach.bind(a)},keys:{value:a.keys.bind(a)},values:{value:a.values.bind(a)},entries:{value:a.entries.bind(a)},[Symbol.iterator]:{value:a[Symbol.iterator].bind(a)}}),c}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})})},8354:a=>{"use strict";a.exports=require("util")},8746:(a,b,c)=>{let{createProxy:d}=c(7119);a.exports=d("D:\\code_all\\calculator\\my-t3-app\\node_modules\\.pnpm\\next@15.5.2_react-dom@19.1.1_react@19.1.1__react@19.1.1\\node_modules\\next\\dist\\client\\image-component.js")},8912:(a,b,c)=>{"use strict";Object.defineProperty(b,"U",{enumerable:!0,get:function(){return n}});let d=c(3724),e=c(9677),f=c(9294),g=c(3033),h=c(4980),i=c(5704),j=c(8905),k=c(8005),l=c(9974),m=c(4396);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,function(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}c(262);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):q.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):r.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function q(){return this.getAll().map(a=>[a.name,a]).values()}function r(a){for(let a of this.getAll())this.delete(a.name);return a}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})})},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9156:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return i},getImageProps:function(){return h}});let d=c(8192),e=c(4230),f=c(8746),g=d._(c(7184));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9642:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"notFound",{enumerable:!0,get:function(){return e}});let d=""+c(4883).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function e(){let a=Object.defineProperty(Error(d),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=d,a}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},9791:(a,b)=>{"use strict";function c(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ImageResponse",{enumerable:!0,get:function(){return c}})},9857:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},9887:(a,b,c)=>{Promise.resolve().then(c.bind(c,2930))},9908:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(9069);let d=c(4819),e=c(2215),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[676,405],()=>b(b.s=6949));module.exports=c})();